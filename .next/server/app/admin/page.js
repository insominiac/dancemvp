(()=>{var e={};e.id=3,e.ids=[3],e.modules={7849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},5403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},4749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},3078:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>r.a,__next_app__:()=>m,originalPathname:()=>x,pages:()=>o,routeModule:()=>u,tree:()=>c}),s(8748),s(1506),s(5866);var a=s(3191),l=s(8716),i=s(7922),r=s.n(i),n=s(5231),d={};for(let e in n)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(d[e]=()=>n[e]);s.d(t,d);let c=["",{children:["admin",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,8748)),"/Users/hemantd/DL/dance-platform/app/admin/page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(s.bind(s,1506)),"/Users/hemantd/DL/dance-platform/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,5866,23)),"next/dist/client/components/not-found-error"]}],o=["/Users/hemantd/DL/dance-platform/app/admin/page.tsx"],x="/admin/page",m={require:s,loadChunk:()=>Promise.resolve()},u=new a.AppPageRouteModule({definition:{kind:l.x.APP_PAGE,page:"/admin/page",pathname:"/admin",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},8734:(e,t,s)=>{Promise.resolve().then(s.bind(s,5584))},9136:(e,t,s)=>{Promise.resolve().then(s.t.bind(s,2994,23)),Promise.resolve().then(s.t.bind(s,6114,23)),Promise.resolve().then(s.t.bind(s,9727,23)),Promise.resolve().then(s.t.bind(s,9671,23)),Promise.resolve().then(s.t.bind(s,1868,23)),Promise.resolve().then(s.t.bind(s,4759,23))},7914:()=>{},5584:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>g});var a=s(326),l=s(7577),i=s(434);function r(){let[e,t]=(0,l.useState)([]),[s,i]=(0,l.useState)(!0),[r,n]=(0,l.useState)(!1),[d,c]=(0,l.useState)(null),[o,x]=(0,l.useState)({email:"",password:"",fullName:"",phone:"",role:"USER",bio:"",isVerified:!1}),m=async()=>{i(!0);try{let e=await fetch("/api/admin/users");if(e.ok){let s=await e.json();t(s.users)}}catch(e){console.error("Error fetching users:",e)}finally{i(!1)}},u=e=>{c(e),x({email:e.email,password:"",fullName:e.fullName,phone:e.phone||"",role:e.role,bio:e.bio||"",isVerified:e.isVerified}),n(!0)},p=async e=>{if(confirm("Are you sure you want to delete this user?"))try{(await fetch(`/api/admin/users/${e}`,{method:"DELETE"})).ok&&(m(),alert("User deleted successfully"))}catch(e){alert("Failed to delete user")}},h=async e=>{e.preventDefault();let t=d?`/api/admin/users/${d.id}`:"/api/admin/users";try{let e=await fetch(t,{method:d?"PUT":"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(o)});if(e.ok)n(!1),m(),alert(`User ${d?"updated":"created"} successfully`);else{let t=await e.json();alert(t.error||"Failed to save user")}}catch(e){alert("Failed to save user")}};return s?a.jsx("div",{className:"flex justify-center items-center h-64",children:a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-purple-600"})}):(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[a.jsx("h2",{className:"text-3xl font-bold",children:"User Management"}),a.jsx("button",{onClick:()=>{c(null),x({email:"",password:"",fullName:"",phone:"",role:"USER",bio:"",isVerified:!1}),n(!0)},className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition",children:"➕ Add New User"})]}),a.jsx("div",{className:"bg-white rounded-xl shadow-lg overflow-hidden",children:a.jsx("div",{className:"overflow-x-auto",children:(0,a.jsxs)("table",{className:"w-full",children:[a.jsx("thead",{className:"bg-gray-50 border-b",children:(0,a.jsxs)("tr",{children:[a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"User"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Role"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Status"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Activity"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Actions"})]})}),a.jsx("tbody",{className:"divide-y divide-gray-200",children:e.map(e=>(0,a.jsxs)("tr",{className:"hover:bg-gray-50",children:[a.jsx("td",{className:"px-6 py-4",children:(0,a.jsxs)("div",{children:[a.jsx("div",{className:"text-sm font-medium text-gray-900",children:e.fullName}),a.jsx("div",{className:"text-sm text-gray-500",children:e.email})]})}),a.jsx("td",{className:"px-6 py-4",children:a.jsx("span",{className:`px-2 py-1 text-xs rounded-full ${"ADMIN"===e.role?"bg-red-100 text-red-800":"INSTRUCTOR"===e.role?"bg-purple-100 text-purple-800":"bg-green-100 text-green-800"}`,children:e.role})}),a.jsx("td",{className:"px-6 py-4",children:a.jsx("span",{className:`px-2 py-1 text-xs rounded-full ${e.isVerified?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800"}`,children:e.isVerified?"Verified":"Unverified"})}),(0,a.jsxs)("td",{className:"px-6 py-4 text-sm text-gray-500",children:[e._count?.bookings||0," bookings, ",e._count?.forumPosts||0," posts"]}),(0,a.jsxs)("td",{className:"px-6 py-4",children:[a.jsx("button",{onClick:()=>u(e),className:"text-indigo-600 hover:text-indigo-900 mr-3",children:"Edit"}),a.jsx("button",{onClick:()=>p(e.id),className:"text-red-600 hover:text-red-900",children:"Delete"})]})]},e.id))})]})})}),r&&a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,a.jsxs)("div",{className:"bg-white rounded-lg p-6 w-full max-w-md",children:[a.jsx("h3",{className:"text-xl font-bold mb-4",children:d?"Edit User":"Add New User"}),(0,a.jsxs)("form",{onSubmit:h,className:"space-y-4",children:[(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email"}),a.jsx("input",{type:"email",value:o.email,onChange:e=>x({...o,email:e.target.value}),className:"w-full px-3 py-2 border rounded-lg",required:!0})]}),!d&&(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Password"}),a.jsx("input",{type:"password",value:o.password,onChange:e=>x({...o,password:e.target.value}),className:"w-full px-3 py-2 border rounded-lg",required:!0})]}),(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Full Name"}),a.jsx("input",{type:"text",value:o.fullName,onChange:e=>x({...o,fullName:e.target.value}),className:"w-full px-3 py-2 border rounded-lg",required:!0})]}),(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Phone"}),a.jsx("input",{type:"tel",value:o.phone,onChange:e=>x({...o,phone:e.target.value}),className:"w-full px-3 py-2 border rounded-lg"})]}),(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Role"}),(0,a.jsxs)("select",{value:o.role,onChange:e=>x({...o,role:e.target.value}),className:"w-full px-3 py-2 border rounded-lg",children:[a.jsx("option",{value:"USER",children:"User"}),a.jsx("option",{value:"INSTRUCTOR",children:"Instructor"}),a.jsx("option",{value:"ADMIN",children:"Admin"})]})]}),(0,a.jsxs)("div",{className:"flex items-center",children:[a.jsx("input",{type:"checkbox",id:"isVerified",checked:o.isVerified,onChange:e=>x({...o,isVerified:e.target.checked}),className:"mr-2"}),a.jsx("label",{htmlFor:"isVerified",className:"text-sm font-medium text-gray-700",children:"Email Verified"})]}),(0,a.jsxs)("div",{className:"flex justify-end gap-3 pt-4",children:[a.jsx("button",{type:"button",onClick:()=>n(!1),className:"px-4 py-2 border rounded-lg hover:bg-gray-50",children:"Cancel"}),a.jsx("button",{type:"submit",className:"px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700",children:d?"Update":"Create"})]})]})]})})]})}function n({helperData:e}){let[t,s]=(0,l.useState)([]),[i,r]=(0,l.useState)(!0),[n,d]=(0,l.useState)(!1),[c,o]=(0,l.useState)(null),[x,m]=(0,l.useState)({title:"",description:"",level:"Beginner",durationMins:"60",maxCapacity:"30",price:"25",scheduleDays:"",scheduleTime:"",requirements:"",imageUrl:"",isActive:!0,instructorIds:[],styleIds:[]}),u=async()=>{r(!0);try{let e=await fetch("/api/admin/classes");if(e.ok){let t=await e.json();s(t.classes)}}catch(e){console.error("Error fetching classes:",e)}finally{r(!1)}},p=e=>{o(e),m({title:e.title,description:e.description,level:e.level,durationMins:e.durationMins.toString(),maxCapacity:e.maxCapacity.toString(),price:e.price.toString(),scheduleDays:e.scheduleDays||"",scheduleTime:e.scheduleTime||"",requirements:"",imageUrl:"",isActive:e.isActive,instructorIds:e.classInstructors?.map(e=>e.instructorId)||[],styleIds:e.classStyles?.map(e=>e.styleId)||[]}),d(!0)},h=async e=>{if(confirm("Are you sure you want to delete this class?"))try{let t=await fetch(`/api/admin/classes/${e}`,{method:"DELETE"});if(t.ok)u(),alert("Class deleted successfully");else{let e=await t.json();alert(e.error||"Failed to delete class")}}catch(e){alert("Failed to delete class")}},g=async e=>{e.preventDefault();let t=c?`/api/admin/classes/${c.id}`:"/api/admin/classes";try{let e=await fetch(t,{method:c?"PUT":"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(x)});if(e.ok)d(!1),u(),alert(`Class ${c?"updated":"created"} successfully`);else{let t=await e.json();alert(t.error||"Failed to save class")}}catch(e){alert("Failed to save class")}};return i?a.jsx("div",{className:"flex justify-center items-center h-64",children:a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-purple-600"})}):(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[a.jsx("h2",{className:"text-3xl font-bold",children:"Class Management"}),a.jsx("button",{onClick:()=>{o(null),m({title:"",description:"",level:"Beginner",durationMins:"60",maxCapacity:"30",price:"25",scheduleDays:"",scheduleTime:"",requirements:"",imageUrl:"",isActive:!0,instructorIds:[],styleIds:[]}),d(!0)},className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition",children:"➕ Add New Class"})]}),a.jsx("div",{className:"bg-white rounded-xl shadow-lg overflow-hidden",children:a.jsx("div",{className:"overflow-x-auto",children:(0,a.jsxs)("table",{className:"w-full",children:[a.jsx("thead",{className:"bg-gray-50 border-b",children:(0,a.jsxs)("tr",{children:[a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Class"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Level"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Schedule"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Price"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Capacity"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Status"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Actions"})]})}),a.jsx("tbody",{className:"divide-y divide-gray-200",children:t.map(e=>(0,a.jsxs)("tr",{className:"hover:bg-gray-50",children:[a.jsx("td",{className:"px-6 py-4",children:(0,a.jsxs)("div",{children:[a.jsx("div",{className:"text-sm font-medium text-gray-900",children:e.title}),(0,a.jsxs)("div",{className:"text-sm text-gray-500",children:[e._count?.bookings||0," bookings"]})]})}),a.jsx("td",{className:"px-6 py-4",children:a.jsx("span",{className:"px-2 py-1 text-xs rounded-full bg-blue-100 text-blue-800",children:e.level})}),(0,a.jsxs)("td",{className:"px-6 py-4 text-sm text-gray-500",children:[a.jsx("div",{children:e.scheduleDays||"Not set"}),a.jsx("div",{children:e.scheduleTime||""})]}),(0,a.jsxs)("td",{className:"px-6 py-4 text-sm font-medium",children:["$",e.price]}),(0,a.jsxs)("td",{className:"px-6 py-4 text-sm text-gray-500",children:[e.maxCapacity," spots"]}),a.jsx("td",{className:"px-6 py-4",children:a.jsx("span",{className:`px-2 py-1 text-xs rounded-full ${e.isActive?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:e.isActive?"Active":"Inactive"})}),(0,a.jsxs)("td",{className:"px-6 py-4",children:[a.jsx("button",{onClick:()=>p(e),className:"text-indigo-600 hover:text-indigo-900 mr-3",children:"Edit"}),a.jsx("button",{onClick:()=>h(e.id),className:"text-red-600 hover:text-red-900",children:"Delete"})]})]},e.id))})]})})}),n&&a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,a.jsxs)("div",{className:"bg-white rounded-lg p-6 w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:[a.jsx("h3",{className:"text-xl font-bold mb-4",children:c?"Edit Class":"Add New Class"}),(0,a.jsxs)("form",{onSubmit:g,className:"space-y-4",children:[(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Title"}),a.jsx("input",{type:"text",value:x.title,onChange:e=>m({...x,title:e.target.value}),className:"w-full px-3 py-2 border rounded-lg",required:!0})]}),(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Level"}),(0,a.jsxs)("select",{value:x.level,onChange:e=>m({...x,level:e.target.value}),className:"w-full px-3 py-2 border rounded-lg",children:[a.jsx("option",{value:"Beginner",children:"Beginner"}),a.jsx("option",{value:"Intermediate",children:"Intermediate"}),a.jsx("option",{value:"Advanced",children:"Advanced"}),a.jsx("option",{value:"All Levels",children:"All Levels"})]})]})]}),(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),a.jsx("textarea",{value:x.description,onChange:e=>m({...x,description:e.target.value}),className:"w-full px-3 py-2 border rounded-lg",rows:3,required:!0})]}),(0,a.jsxs)("div",{className:"grid grid-cols-3 gap-4",children:[(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Duration (mins)"}),a.jsx("input",{type:"number",value:x.durationMins,onChange:e=>m({...x,durationMins:e.target.value}),className:"w-full px-3 py-2 border rounded-lg",required:!0})]}),(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Max Capacity"}),a.jsx("input",{type:"number",value:x.maxCapacity,onChange:e=>m({...x,maxCapacity:e.target.value}),className:"w-full px-3 py-2 border rounded-lg",required:!0})]}),(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Price ($)"}),a.jsx("input",{type:"number",step:"0.01",value:x.price,onChange:e=>m({...x,price:e.target.value}),className:"w-full px-3 py-2 border rounded-lg",required:!0})]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Schedule Days"}),a.jsx("input",{type:"text",value:x.scheduleDays,onChange:e=>m({...x,scheduleDays:e.target.value}),className:"w-full px-3 py-2 border rounded-lg",placeholder:"e.g., Monday, Wednesday, Friday"})]}),(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Schedule Time"}),a.jsx("input",{type:"text",value:x.scheduleTime,onChange:e=>m({...x,scheduleTime:e.target.value}),className:"w-full px-3 py-2 border rounded-lg",placeholder:"e.g., 6:00 PM"})]})]}),e&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Instructors"}),a.jsx("select",{multiple:!0,value:x.instructorIds,onChange:e=>{let t=Array.from(e.target.selectedOptions,e=>e.value);m({...x,instructorIds:t})},className:"w-full px-3 py-2 border rounded-lg",size:3,children:e.instructors?.map(e=>a.jsxs("option",{value:e.id,children:[e.name," - ",e.specialty||"General"]},e.id))}),a.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Hold Ctrl/Cmd to select multiple"})]}),(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Dance Styles"}),a.jsx("select",{multiple:!0,value:x.styleIds,onChange:e=>{let t=Array.from(e.target.selectedOptions,e=>e.value);m({...x,styleIds:t})},className:"w-full px-3 py-2 border rounded-lg",size:3,children:e.danceStyles?.map(e=>a.jsxs("option",{value:e.id,children:[e.name," (",e.category,")"]},e.id))}),a.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Hold Ctrl/Cmd to select multiple"})]})]}),(0,a.jsxs)("div",{className:"flex items-center",children:[a.jsx("input",{type:"checkbox",id:"isActive",checked:x.isActive,onChange:e=>m({...x,isActive:e.target.checked}),className:"mr-2"}),a.jsx("label",{htmlFor:"isActive",className:"text-sm font-medium text-gray-700",children:"Class is Active"})]}),(0,a.jsxs)("div",{className:"flex justify-end gap-3 pt-4",children:[a.jsx("button",{type:"button",onClick:()=>d(!1),className:"px-4 py-2 border rounded-lg hover:bg-gray-50",children:"Cancel"}),a.jsx("button",{type:"submit",className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700",children:c?"Update":"Create"})]})]})]})})]})}function d({helperData:e}){let[t,s]=(0,l.useState)([]),[i,r]=(0,l.useState)(!0),[n,d]=(0,l.useState)(!1),[c,o]=(0,l.useState)(null),[x,m]=(0,l.useState)({title:"",description:"",eventType:"Workshop",startDate:"",endDate:"",startTime:"",endTime:"",venueId:"",price:"50",maxAttendees:"100",imageUrl:"",status:"DRAFT",isFeatured:!1,styleIds:[]}),u=async()=>{r(!0);try{let e=await fetch("/api/admin/events");if(e.ok){let t=await e.json();s(t.events)}}catch(e){console.error("Error fetching events:",e)}finally{r(!1)}},p=e=>{o(e),m({title:e.title,description:e.description,eventType:e.eventType,startDate:e.startDate.split("T")[0],endDate:e.endDate.split("T")[0],startTime:e.startTime,endTime:e.endTime,venueId:e.venueId,price:e.price.toString(),maxAttendees:e.maxAttendees.toString(),imageUrl:"",status:e.status,isFeatured:e.isFeatured,styleIds:e.eventStyles?.map(e=>e.styleId)||[]}),d(!0)},h=async e=>{if(confirm("Are you sure you want to delete this event?"))try{let t=await fetch(`/api/admin/events/${e}`,{method:"DELETE"});if(t.ok)u(),alert("Event deleted successfully");else{let e=await t.json();alert(e.error||"Failed to delete event")}}catch(e){alert("Failed to delete event")}},g=async e=>{e.preventDefault();let t=c?`/api/admin/events/${c.id}`:"/api/admin/events";try{let e=await fetch(t,{method:c?"PUT":"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(x)});if(e.ok)d(!1),u(),alert(`Event ${c?"updated":"created"} successfully`);else{let t=await e.json();alert(t.error||"Failed to save event")}}catch(e){alert("Failed to save event")}};return i?a.jsx("div",{className:"flex justify-center items-center h-64",children:a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-purple-600"})}):(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[a.jsx("h2",{className:"text-3xl font-bold",children:"Event Management"}),a.jsx("button",{onClick:()=>{o(null);let t=new Date().toISOString().split("T")[0];m({title:"",description:"",eventType:"Workshop",startDate:t,endDate:t,startTime:"09:00",endTime:"17:00",venueId:e?.venues?.[0]?.id||"",price:"50",maxAttendees:"100",imageUrl:"",status:"DRAFT",isFeatured:!1,styleIds:[]}),d(!0)},className:"px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 transition",children:"➕ Add New Event"})]}),a.jsx("div",{className:"bg-white rounded-xl shadow-lg overflow-hidden",children:a.jsx("div",{className:"overflow-x-auto",children:(0,a.jsxs)("table",{className:"w-full",children:[a.jsx("thead",{className:"bg-gray-50 border-b",children:(0,a.jsxs)("tr",{children:[a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Event"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Date & Time"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Venue"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Price"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Attendees"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Status"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Actions"})]})}),a.jsx("tbody",{className:"divide-y divide-gray-200",children:t.map(e=>(0,a.jsxs)("tr",{className:"hover:bg-gray-50",children:[a.jsx("td",{className:"px-6 py-4",children:(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"text-sm font-medium text-gray-900",children:[e.title,e.isFeatured&&a.jsx("span",{className:"ml-2 text-xs text-yellow-600",children:"⭐ Featured"})]}),a.jsx("div",{className:"text-sm text-gray-500",children:e.eventType})]})}),(0,a.jsxs)("td",{className:"px-6 py-4 text-sm text-gray-500",children:[a.jsx("div",{children:new Date(e.startDate).toLocaleDateString()}),(0,a.jsxs)("div",{children:[e.startTime," - ",e.endTime]})]}),a.jsx("td",{className:"px-6 py-4 text-sm text-gray-500",children:e.venue?.name||"No venue"}),(0,a.jsxs)("td",{className:"px-6 py-4 text-sm font-medium",children:["$",e.price]}),(0,a.jsxs)("td",{className:"px-6 py-4 text-sm text-gray-500",children:[e.currentAttendees,"/",e.maxAttendees]}),a.jsx("td",{className:"px-6 py-4",children:a.jsx("span",{className:`px-2 py-1 text-xs rounded-full ${"PUBLISHED"===e.status?"bg-green-100 text-green-800":"DRAFT"===e.status?"bg-gray-100 text-gray-800":"bg-red-100 text-red-800"}`,children:e.status})}),(0,a.jsxs)("td",{className:"px-6 py-4",children:[a.jsx("button",{onClick:()=>p(e),className:"text-indigo-600 hover:text-indigo-900 mr-3",children:"Edit"}),a.jsx("button",{onClick:()=>h(e.id),className:"text-red-600 hover:text-red-900",children:"Delete"})]})]},e.id))})]})})}),n&&a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,a.jsxs)("div",{className:"bg-white rounded-lg p-6 w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:[a.jsx("h3",{className:"text-xl font-bold mb-4",children:c?"Edit Event":"Add New Event"}),(0,a.jsxs)("form",{onSubmit:g,className:"space-y-4",children:[(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Title"}),a.jsx("input",{type:"text",value:x.title,onChange:e=>m({...x,title:e.target.value}),className:"w-full px-3 py-2 border rounded-lg",required:!0})]}),(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Event Type"}),(0,a.jsxs)("select",{value:x.eventType,onChange:e=>m({...x,eventType:e.target.value}),className:"w-full px-3 py-2 border rounded-lg",children:[a.jsx("option",{value:"Workshop",children:"Workshop"}),a.jsx("option",{value:"Competition",children:"Competition"}),a.jsx("option",{value:"Showcase",children:"Showcase"}),a.jsx("option",{value:"Social",children:"Social"}),a.jsx("option",{value:"Masterclass",children:"Masterclass"})]})]})]}),(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),a.jsx("textarea",{value:x.description,onChange:e=>m({...x,description:e.target.value}),className:"w-full px-3 py-2 border rounded-lg",rows:3,required:!0})]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Start Date"}),a.jsx("input",{type:"date",value:x.startDate,onChange:e=>m({...x,startDate:e.target.value}),className:"w-full px-3 py-2 border rounded-lg",required:!0})]}),(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"End Date"}),a.jsx("input",{type:"date",value:x.endDate,onChange:e=>m({...x,endDate:e.target.value}),className:"w-full px-3 py-2 border rounded-lg",required:!0})]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Start Time"}),a.jsx("input",{type:"time",value:x.startTime,onChange:e=>m({...x,startTime:e.target.value}),className:"w-full px-3 py-2 border rounded-lg",required:!0})]}),(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"End Time"}),a.jsx("input",{type:"time",value:x.endTime,onChange:e=>m({...x,endTime:e.target.value}),className:"w-full px-3 py-2 border rounded-lg",required:!0})]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Venue"}),(0,a.jsxs)("select",{value:x.venueId,onChange:e=>m({...x,venueId:e.target.value}),className:"w-full px-3 py-2 border rounded-lg",required:!0,children:[a.jsx("option",{value:"",children:"Select a venue"}),e?.venues?.map(e=>a.jsxs("option",{value:e.id,children:[e.name," - ",e.city]},e.id))]})]}),(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Status"}),(0,a.jsxs)("select",{value:x.status,onChange:e=>m({...x,status:e.target.value}),className:"w-full px-3 py-2 border rounded-lg",children:[a.jsx("option",{value:"DRAFT",children:"Draft"}),a.jsx("option",{value:"PUBLISHED",children:"Published"}),a.jsx("option",{value:"CANCELLED",children:"Cancelled"})]})]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Price ($)"}),a.jsx("input",{type:"number",step:"0.01",value:x.price,onChange:e=>m({...x,price:e.target.value}),className:"w-full px-3 py-2 border rounded-lg",required:!0})]}),(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Max Attendees"}),a.jsx("input",{type:"number",value:x.maxAttendees,onChange:e=>m({...x,maxAttendees:e.target.value}),className:"w-full px-3 py-2 border rounded-lg",required:!0})]})]}),e&&(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Dance Styles"}),a.jsx("select",{multiple:!0,value:x.styleIds,onChange:e=>{let t=Array.from(e.target.selectedOptions,e=>e.value);m({...x,styleIds:t})},className:"w-full px-3 py-2 border rounded-lg",size:3,children:e.danceStyles?.map(e=>a.jsxs("option",{value:e.id,children:[e.name," (",e.category,")"]},e.id))}),a.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Hold Ctrl/Cmd to select multiple"})]}),(0,a.jsxs)("div",{className:"flex items-center",children:[a.jsx("input",{type:"checkbox",id:"isFeatured",checked:x.isFeatured,onChange:e=>m({...x,isFeatured:e.target.checked}),className:"mr-2"}),a.jsx("label",{htmlFor:"isFeatured",className:"text-sm font-medium text-gray-700",children:"Featured Event"})]}),(0,a.jsxs)("div",{className:"flex justify-end gap-3 pt-4",children:[a.jsx("button",{type:"button",onClick:()=>d(!1),className:"px-4 py-2 border rounded-lg hover:bg-gray-50",children:"Cancel"}),a.jsx("button",{type:"submit",className:"px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700",children:c?"Update":"Create"})]})]})]})})]})}function c({helperData:e}){let[t,s]=(0,l.useState)([]),[i,r]=(0,l.useState)(!0),[n,d]=(0,l.useState)(!1),[c,o]=(0,l.useState)(null),[x,m]=(0,l.useState)({userId:"",classId:"",eventId:"",bookingType:"Class",status:"PENDING",amount:"50",notes:""}),[u,p]=(0,l.useState)("all"),h=async()=>{r(!0);try{let e=await fetch("/api/admin/bookings");if(e.ok){let t=await e.json();s(t.bookings)}}catch(e){console.error("Error fetching bookings:",e)}finally{r(!1)}},g=e=>{o(e),m({userId:e.userId,classId:e.classId||"",eventId:e.eventId||"",bookingType:e.bookingType,status:e.status,amount:e.amount.toString(),notes:e.notes||""}),d(!0)},y=async e=>{if(confirm("Are you sure you want to delete this booking?"))try{let t=await fetch(`/api/admin/bookings/${e}`,{method:"DELETE"});if(t.ok)h(),alert("Booking deleted successfully");else{let e=await t.json();alert(e.error||"Failed to delete booking")}}catch(e){alert("Failed to delete booking")}},j=async e=>{e.preventDefault();let t=c?`/api/admin/bookings/${c.id}`:"/api/admin/bookings",s={...x};"Class"===x.bookingType?delete s.eventId:delete s.classId;try{let e=await fetch(t,{method:c?"PUT":"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(s)});if(e.ok)d(!1),h(),alert(`Booking ${c?"updated":"created"} successfully`);else{let t=await e.json();alert(t.error||"Failed to save booking")}}catch(e){alert("Failed to save booking")}},b=e=>{switch(e){case"CONFIRMED":return"bg-green-100 text-green-800";case"PENDING":return"bg-yellow-100 text-yellow-800";case"CANCELLED":return"bg-red-100 text-red-800";case"COMPLETED":return"bg-blue-100 text-blue-800";default:return"bg-gray-100 text-gray-800"}},f="all"===u?t:t.filter(e=>e.status===u);return i?a.jsx("div",{className:"flex justify-center items-center h-64",children:a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-purple-600"})}):(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[a.jsx("h2",{className:"text-3xl font-bold",children:"Booking Management"}),a.jsx("button",{onClick:()=>{o(null),m({userId:e?.users?.[0]?.id||"",classId:"",eventId:"",bookingType:"Class",status:"PENDING",amount:"50",notes:""}),d(!0)},className:"px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 transition",children:"➕ Add New Booking"})]}),a.jsx("div",{className:"flex gap-2 mb-6",children:["all","PENDING","CONFIRMED","CANCELLED","COMPLETED"].map(e=>(0,a.jsxs)("button",{onClick:()=>p(e),className:`px-4 py-2 rounded-lg transition ${u===e?"bg-purple-600 text-white":"bg-gray-100 hover:bg-gray-200"}`,children:["all"===e?"All":e,"all"!==e&&(0,a.jsxs)("span",{className:"ml-2 text-xs",children:["(",t.filter(t=>t.status===e).length,")"]})]},e))}),a.jsx("div",{className:"bg-white rounded-xl shadow-lg overflow-hidden",children:a.jsx("div",{className:"overflow-x-auto",children:(0,a.jsxs)("table",{className:"w-full",children:[a.jsx("thead",{className:"bg-gray-50 border-b",children:(0,a.jsxs)("tr",{children:[a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"User"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Booking"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Type"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Amount"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Status"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Date"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Actions"})]})}),a.jsx("tbody",{className:"divide-y divide-gray-200",children:f.map(e=>(0,a.jsxs)("tr",{className:"hover:bg-gray-50",children:[(0,a.jsxs)("td",{className:"px-6 py-4",children:[a.jsx("div",{className:"text-sm font-medium text-gray-900",children:e.user?.name||"Unknown User"}),a.jsx("div",{className:"text-xs text-gray-500",children:e.user?.email})]}),(0,a.jsxs)("td",{className:"px-6 py-4",children:[a.jsx("div",{className:"text-sm text-gray-900",children:"Class"===e.bookingType?e.class?.title:e.event?.title}),e.notes&&a.jsx("div",{className:"text-xs text-gray-500 mt-1",children:e.notes})]}),a.jsx("td",{className:"px-6 py-4",children:a.jsx("span",{className:"px-2 py-1 text-xs rounded-full bg-indigo-100 text-indigo-800",children:e.bookingType})}),(0,a.jsxs)("td",{className:"px-6 py-4 text-sm font-medium",children:["$",e.amount]}),a.jsx("td",{className:"px-6 py-4",children:a.jsx("span",{className:`px-2 py-1 text-xs rounded-full ${b(e.status)}`,children:e.status})}),a.jsx("td",{className:"px-6 py-4 text-sm text-gray-500",children:new Date(e.createdAt).toLocaleDateString()}),(0,a.jsxs)("td",{className:"px-6 py-4",children:[a.jsx("button",{onClick:()=>g(e),className:"text-indigo-600 hover:text-indigo-900 mr-3",children:"Edit"}),a.jsx("button",{onClick:()=>y(e.id),className:"text-red-600 hover:text-red-900",children:"Delete"})]})]},e.id))})]})})}),n&&a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,a.jsxs)("div",{className:"bg-white rounded-lg p-6 w-full max-w-lg",children:[a.jsx("h3",{className:"text-xl font-bold mb-4",children:c?"Edit Booking":"Add New Booking"}),(0,a.jsxs)("form",{onSubmit:j,className:"space-y-4",children:[(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"User"}),(0,a.jsxs)("select",{value:x.userId,onChange:e=>m({...x,userId:e.target.value}),className:"w-full px-3 py-2 border rounded-lg",required:!0,children:[a.jsx("option",{value:"",children:"Select a user"}),e?.users?.map(e=>a.jsxs("option",{value:e.id,children:[e.name," (",e.email,")"]},e.id))]})]}),(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Booking Type"}),(0,a.jsxs)("select",{value:x.bookingType,onChange:e=>m({...x,bookingType:e.target.value}),className:"w-full px-3 py-2 border rounded-lg",disabled:!!c,children:[a.jsx("option",{value:"Class",children:"Class"}),a.jsx("option",{value:"Event",children:"Event"})]})]}),"Class"===x.bookingType?(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Class"}),(0,a.jsxs)("select",{value:x.classId,onChange:e=>m({...x,classId:e.target.value}),className:"w-full px-3 py-2 border rounded-lg",required:!0,children:[a.jsx("option",{value:"",children:"Select a class"}),e?.classes?.map(e=>a.jsxs("option",{value:e.id,children:[e.title," - ",e.schedule]},e.id))]})]}):(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Event"}),(0,a.jsxs)("select",{value:x.eventId,onChange:e=>m({...x,eventId:e.target.value}),className:"w-full px-3 py-2 border rounded-lg",required:!0,children:[a.jsx("option",{value:"",children:"Select an event"}),e?.events?.map(e=>a.jsxs("option",{value:e.id,children:[e.title," - ",new Date(e.startDate).toLocaleDateString()]},e.id))]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Status"}),(0,a.jsxs)("select",{value:x.status,onChange:e=>m({...x,status:e.target.value}),className:"w-full px-3 py-2 border rounded-lg",children:[a.jsx("option",{value:"PENDING",children:"Pending"}),a.jsx("option",{value:"CONFIRMED",children:"Confirmed"}),a.jsx("option",{value:"CANCELLED",children:"Cancelled"}),a.jsx("option",{value:"COMPLETED",children:"Completed"})]})]}),(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Amount ($)"}),a.jsx("input",{type:"number",step:"0.01",value:x.amount,onChange:e=>m({...x,amount:e.target.value}),className:"w-full px-3 py-2 border rounded-lg",required:!0})]})]}),(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Notes"}),a.jsx("textarea",{value:x.notes,onChange:e=>m({...x,notes:e.target.value}),className:"w-full px-3 py-2 border rounded-lg",rows:2,placeholder:"Optional notes..."})]}),(0,a.jsxs)("div",{className:"flex justify-end gap-3 pt-4",children:[a.jsx("button",{type:"button",onClick:()=>d(!1),className:"px-4 py-2 border rounded-lg hover:bg-gray-50",children:"Cancel"}),a.jsx("button",{type:"submit",className:"px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700",children:c?"Update":"Create"})]})]})]})})]})}function o(){let[e,t]=(0,l.useState)([]),[s,i]=(0,l.useState)(!0),[r,n]=(0,l.useState)(!1),[d,c]=(0,l.useState)(null),[o,x]=(0,l.useState)({name:"",address:"",city:"",state:"",zipCode:"",phone:"",email:"",capacity:"100",amenities:[],isActive:!0}),m=async()=>{i(!0);try{let e=await fetch("/api/admin/venues");if(e.ok){let s=await e.json();t(s.venues)}}catch(e){console.error("Error fetching venues:",e)}finally{i(!1)}},u=e=>{c(e),x({name:e.name,address:e.address,city:e.city,state:e.state||"",zipCode:e.zipCode||"",phone:e.phone||"",email:e.email||"",capacity:e.capacity.toString(),amenities:e.amenities||[],isActive:e.isActive}),n(!0)},p=async e=>{if(confirm("Are you sure you want to delete this venue?"))try{let t=await fetch(`/api/admin/venues/${e}`,{method:"DELETE"});if(t.ok)m(),alert("Venue deleted successfully");else{let e=await t.json();alert(e.error||"Failed to delete venue")}}catch(e){alert("Failed to delete venue")}},h=async e=>{e.preventDefault();let t=d?`/api/admin/venues/${d.id}`:"/api/admin/venues";try{let e=await fetch(t,{method:d?"PUT":"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(o)});if(e.ok)n(!1),m(),alert(`Venue ${d?"updated":"created"} successfully`);else{let t=await e.json();alert(t.error||"Failed to save venue")}}catch(e){alert("Failed to save venue")}},g=e=>{x(t=>({...t,amenities:t.amenities.includes(e)?t.amenities.filter(t=>t!==e):[...t.amenities,e]}))};return s?a.jsx("div",{className:"flex justify-center items-center h-64",children:a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-purple-600"})}):(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[a.jsx("h2",{className:"text-3xl font-bold",children:"Venue Management"}),a.jsx("button",{onClick:()=>{c(null),x({name:"",address:"",city:"",state:"",zipCode:"",phone:"",email:"",capacity:"100",amenities:[],isActive:!0}),n(!0)},className:"px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 transition",children:"➕ Add New Venue"})]}),a.jsx("div",{className:"bg-white rounded-xl shadow-lg overflow-hidden",children:a.jsx("div",{className:"overflow-x-auto",children:(0,a.jsxs)("table",{className:"w-full",children:[a.jsx("thead",{className:"bg-gray-50 border-b",children:(0,a.jsxs)("tr",{children:[a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Venue"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Location"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Contact"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Capacity"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Usage"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Status"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Actions"})]})}),a.jsx("tbody",{className:"divide-y divide-gray-200",children:e.map(e=>(0,a.jsxs)("tr",{className:"hover:bg-gray-50",children:[(0,a.jsxs)("td",{className:"px-6 py-4",children:[a.jsx("div",{className:"text-sm font-medium text-gray-900",children:e.name}),(0,a.jsxs)("div",{className:"text-xs text-gray-500",children:[e.amenities?.length||0," amenities"]})]}),(0,a.jsxs)("td",{className:"px-6 py-4",children:[a.jsx("div",{className:"text-sm text-gray-500",children:e.address}),(0,a.jsxs)("div",{className:"text-sm text-gray-500",children:[e.city,e.state&&`, ${e.state}`]})]}),(0,a.jsxs)("td",{className:"px-6 py-4",children:[a.jsx("div",{className:"text-sm text-gray-500",children:e.phone||"-"}),a.jsx("div",{className:"text-sm text-gray-500",children:e.email||"-"})]}),(0,a.jsxs)("td",{className:"px-6 py-4 text-sm text-gray-500",children:[e.capacity," people"]}),(0,a.jsxs)("td",{className:"px-6 py-4",children:[(0,a.jsxs)("div",{className:"text-sm text-gray-500",children:[e._count?.events||0," events"]}),(0,a.jsxs)("div",{className:"text-sm text-gray-500",children:[e._count?.classes||0," classes"]})]}),a.jsx("td",{className:"px-6 py-4",children:a.jsx("span",{className:`px-2 py-1 text-xs rounded-full ${e.isActive?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:e.isActive?"Active":"Inactive"})}),(0,a.jsxs)("td",{className:"px-6 py-4",children:[a.jsx("button",{onClick:()=>u(e),className:"text-indigo-600 hover:text-indigo-900 mr-3",children:"Edit"}),a.jsx("button",{onClick:()=>p(e.id),className:"text-red-600 hover:text-red-900",children:"Delete"})]})]},e.id))})]})})}),r&&a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,a.jsxs)("div",{className:"bg-white rounded-lg p-6 w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:[a.jsx("h3",{className:"text-xl font-bold mb-4",children:d?"Edit Venue":"Add New Venue"}),(0,a.jsxs)("form",{onSubmit:h,className:"space-y-4",children:[(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Name"}),a.jsx("input",{type:"text",value:o.name,onChange:e=>x({...o,name:e.target.value}),className:"w-full px-3 py-2 border rounded-lg",required:!0})]}),(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Capacity"}),a.jsx("input",{type:"number",value:o.capacity,onChange:e=>x({...o,capacity:e.target.value}),className:"w-full px-3 py-2 border rounded-lg",required:!0})]})]}),(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Address"}),a.jsx("input",{type:"text",value:o.address,onChange:e=>x({...o,address:e.target.value}),className:"w-full px-3 py-2 border rounded-lg",required:!0})]}),(0,a.jsxs)("div",{className:"grid grid-cols-3 gap-4",children:[(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"City"}),a.jsx("input",{type:"text",value:o.city,onChange:e=>x({...o,city:e.target.value}),className:"w-full px-3 py-2 border rounded-lg",required:!0})]}),(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"State"}),a.jsx("input",{type:"text",value:o.state,onChange:e=>x({...o,state:e.target.value}),className:"w-full px-3 py-2 border rounded-lg",placeholder:"Optional"})]}),(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Zip Code"}),a.jsx("input",{type:"text",value:o.zipCode,onChange:e=>x({...o,zipCode:e.target.value}),className:"w-full px-3 py-2 border rounded-lg",placeholder:"Optional"})]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Phone"}),a.jsx("input",{type:"tel",value:o.phone,onChange:e=>x({...o,phone:e.target.value}),className:"w-full px-3 py-2 border rounded-lg",placeholder:"Optional"})]}),(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email"}),a.jsx("input",{type:"email",value:o.email,onChange:e=>x({...o,email:e.target.value}),className:"w-full px-3 py-2 border rounded-lg",placeholder:"Optional"})]})]}),(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Amenities"}),a.jsx("div",{className:"grid grid-cols-3 gap-2",children:["Mirrors","Sound System","Changing Rooms","Parking","Air Conditioning","WiFi","Sprung Floor","Stage","Lighting System","Bar/Cafe","Wheelchair Accessible"].map(e=>(0,a.jsxs)("label",{className:"flex items-center space-x-2",children:[a.jsx("input",{type:"checkbox",checked:o.amenities.includes(e),onChange:()=>g(e),className:"rounded"}),a.jsx("span",{className:"text-sm",children:e})]},e))})]}),(0,a.jsxs)("div",{className:"flex items-center",children:[a.jsx("input",{type:"checkbox",id:"isActive",checked:o.isActive,onChange:e=>x({...o,isActive:e.target.checked}),className:"mr-2"}),a.jsx("label",{htmlFor:"isActive",className:"text-sm font-medium text-gray-700",children:"Active Venue"})]}),(0,a.jsxs)("div",{className:"flex justify-end gap-3 pt-4",children:[a.jsx("button",{type:"button",onClick:()=>n(!1),className:"px-4 py-2 border rounded-lg hover:bg-gray-50",children:"Cancel"}),a.jsx("button",{type:"submit",className:"px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700",children:d?"Update":"Create"})]})]})]})})]})}function x(){let[e,t]=(0,l.useState)([]),[s,i]=(0,l.useState)(!0),[r,n]=(0,l.useState)(!1),[d,c]=(0,l.useState)(null),[o,x]=(0,l.useState)({name:"",category:"Contemporary",description:"",difficulty:"Beginner",isActive:!0}),m=async()=>{i(!0);try{let e=await fetch("/api/admin/dance-styles");if(e.ok){let s=await e.json();t(s.styles)}}catch(e){console.error("Error fetching dance styles:",e)}finally{i(!1)}},u=e=>{c(e),x({name:e.name,category:e.category,description:e.description||"",difficulty:e.difficulty,isActive:e.isActive}),n(!0)},p=async e=>{if(confirm("Are you sure you want to delete this dance style?"))try{let t=await fetch(`/api/admin/dance-styles/${e}`,{method:"DELETE"});if(t.ok)m(),alert("Dance style deleted successfully");else{let e=await t.json();alert(e.error||"Failed to delete dance style")}}catch(e){alert("Failed to delete dance style")}},h=async e=>{e.preventDefault();let t=d?`/api/admin/dance-styles/${d.id}`:"/api/admin/dance-styles";try{let e=await fetch(t,{method:d?"PUT":"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(o)});if(e.ok)n(!1),m(),alert(`Dance style ${d?"updated":"created"} successfully`);else{let t=await e.json();alert(t.error||"Failed to save dance style")}}catch(e){alert("Failed to save dance style")}},g=e=>{switch(e){case"Beginner":return"bg-green-100 text-green-800";case"Intermediate":return"bg-yellow-100 text-yellow-800";case"Advanced":return"bg-red-100 text-red-800";default:return"bg-blue-100 text-blue-800"}},y=e=>({Contemporary:"\uD83C\uDFAD",Ballet:"\uD83E\uDE70",Jazz:"\uD83C\uDFB5","Hip Hop":"\uD83C\uDFA4",Latin:"\uD83D\uDC83",Ballroom:"\uD83D\uDD7A",Street:"\uD83C\uDFD9️",Traditional:"\uD83C\uDFDB️",Modern:"✨",Other:"\uD83C\uDFA8"})[e]||"\uD83C\uDFA8";return s?a.jsx("div",{className:"flex justify-center items-center h-64",children:a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-purple-600"})}):(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[a.jsx("h2",{className:"text-3xl font-bold",children:"Dance Style Management"}),a.jsx("button",{onClick:()=>{c(null),x({name:"",category:"Contemporary",description:"",difficulty:"Beginner",isActive:!0}),n(!0)},className:"px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 transition",children:"➕ Add New Style"})]}),a.jsx("div",{className:"bg-white rounded-xl shadow-lg overflow-hidden",children:a.jsx("div",{className:"overflow-x-auto",children:(0,a.jsxs)("table",{className:"w-full",children:[a.jsx("thead",{className:"bg-gray-50 border-b",children:(0,a.jsxs)("tr",{children:[a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Style"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Category"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Difficulty"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Usage"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Status"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Actions"})]})}),a.jsx("tbody",{className:"divide-y divide-gray-200",children:e.map(e=>(0,a.jsxs)("tr",{className:"hover:bg-gray-50",children:[(0,a.jsxs)("td",{className:"px-6 py-4",children:[a.jsx("div",{className:"text-sm font-medium text-gray-900",children:e.name}),e.description&&a.jsx("div",{className:"text-xs text-gray-500 truncate max-w-xs",children:e.description})]}),a.jsx("td",{className:"px-6 py-4",children:(0,a.jsxs)("span",{className:"text-sm text-gray-900",children:[y(e.category)," ",e.category]})}),a.jsx("td",{className:"px-6 py-4",children:a.jsx("span",{className:`px-2 py-1 text-xs rounded-full ${g(e.difficulty)}`,children:e.difficulty})}),a.jsx("td",{className:"px-6 py-4",children:(0,a.jsxs)("div",{className:"text-xs text-gray-500 space-y-1",children:[(0,a.jsxs)("div",{children:[e._count?.classes||0," classes"]}),(0,a.jsxs)("div",{children:[e._count?.events||0," events"]}),(0,a.jsxs)("div",{children:[e._count?.instructors||0," instructors"]})]})}),a.jsx("td",{className:"px-6 py-4",children:a.jsx("span",{className:`px-2 py-1 text-xs rounded-full ${e.isActive?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:e.isActive?"Active":"Inactive"})}),(0,a.jsxs)("td",{className:"px-6 py-4",children:[a.jsx("button",{onClick:()=>u(e),className:"text-indigo-600 hover:text-indigo-900 mr-3",children:"Edit"}),a.jsx("button",{onClick:()=>p(e.id),className:"text-red-600 hover:text-red-900",children:"Delete"})]})]},e.id))})]})})}),r&&a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,a.jsxs)("div",{className:"bg-white rounded-lg p-6 w-full max-w-lg",children:[a.jsx("h3",{className:"text-xl font-bold mb-4",children:d?"Edit Dance Style":"Add New Dance Style"}),(0,a.jsxs)("form",{onSubmit:h,className:"space-y-4",children:[(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Name"}),a.jsx("input",{type:"text",value:o.name,onChange:e=>x({...o,name:e.target.value}),className:"w-full px-3 py-2 border rounded-lg",required:!0})]}),(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Category"}),a.jsx("select",{value:o.category,onChange:e=>x({...o,category:e.target.value}),className:"w-full px-3 py-2 border rounded-lg",required:!0,children:["Contemporary","Ballet","Jazz","Hip Hop","Latin","Ballroom","Street","Traditional","Modern","Other"].map(e=>(0,a.jsxs)("option",{value:e,children:[y(e)," ",e]},e))})]}),(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Difficulty"}),a.jsx("select",{value:o.difficulty,onChange:e=>x({...o,difficulty:e.target.value}),className:"w-full px-3 py-2 border rounded-lg",required:!0,children:["Beginner","Intermediate","Advanced","All Levels"].map(e=>a.jsx("option",{value:e,children:e},e))})]}),(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),a.jsx("textarea",{value:o.description,onChange:e=>x({...o,description:e.target.value}),className:"w-full px-3 py-2 border rounded-lg",rows:3,placeholder:"Optional description..."})]}),(0,a.jsxs)("div",{className:"flex items-center",children:[a.jsx("input",{type:"checkbox",id:"isActive",checked:o.isActive,onChange:e=>x({...o,isActive:e.target.checked}),className:"mr-2"}),a.jsx("label",{htmlFor:"isActive",className:"text-sm font-medium text-gray-700",children:"Active Style"})]}),(0,a.jsxs)("div",{className:"flex justify-end gap-3 pt-4",children:[a.jsx("button",{type:"button",onClick:()=>n(!1),className:"px-4 py-2 border rounded-lg hover:bg-gray-50",children:"Cancel"}),a.jsx("button",{type:"submit",className:"px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700",children:d?"Update":"Create"})]})]})]})})]})}function m(){let[e,t]=(0,l.useState)([]),[s,i]=(0,l.useState)(!0),[r,n]=(0,l.useState)(!1),[d,c]=(0,l.useState)(null),[o,x]=(0,l.useState)({userId:"",bio:"",experience:"1",specialties:[],certifications:[],hourlyRate:"50",isAvailable:!0,profileImageUrl:""}),m=async()=>{i(!0);try{let e=await fetch("/api/admin/instructors");if(e.ok){let s=await e.json();t(s.instructors)}}catch(e){console.error("Error fetching instructors:",e)}finally{i(!1)}},u=e=>{c(e),x({userId:e.userId,bio:e.bio||"",experience:e.experience.toString(),specialties:e.specialties||[],certifications:e.certifications||[],hourlyRate:e.hourlyRate.toString(),isAvailable:e.isAvailable,profileImageUrl:e.profileImageUrl||""}),n(!0)},p=async e=>{if(confirm("Are you sure you want to delete this instructor profile?"))try{let t=await fetch(`/api/admin/instructors/${e}`,{method:"DELETE"});if(t.ok)m(),alert("Instructor deleted successfully");else{let e=await t.json();alert(e.error||"Failed to delete instructor")}}catch(e){alert("Failed to delete instructor")}},h=async e=>{e.preventDefault();let t=d?`/api/admin/instructors/${d.id}`:"/api/admin/instructors";try{let e=await fetch(t,{method:d?"PUT":"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(o)});if(e.ok)n(!1),m(),alert(`Instructor ${d?"updated":"created"} successfully`);else{let t=await e.json();alert(t.error||"Failed to save instructor")}}catch(e){alert("Failed to save instructor")}},g=e=>{x(t=>({...t,specialties:t.specialties.includes(e)?t.specialties.filter(t=>t!==e):[...t.specialties,e]}))},y=e=>{x(t=>({...t,certifications:t.certifications.filter((t,s)=>s!==e)}))};return s?a.jsx("div",{className:"flex justify-center items-center h-64",children:a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-purple-600"})}):(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[a.jsx("h2",{className:"text-3xl font-bold",children:"Instructor Management"}),a.jsx("button",{onClick:()=>{c(null),x({userId:"",bio:"",experience:"1",specialties:[],certifications:[],hourlyRate:"50",isAvailable:!0,profileImageUrl:""}),n(!0)},className:"px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 transition",children:"➕ Add New Instructor"})]}),a.jsx("div",{className:"bg-white rounded-xl shadow-lg overflow-hidden",children:a.jsx("div",{className:"overflow-x-auto",children:(0,a.jsxs)("table",{className:"w-full",children:[a.jsx("thead",{className:"bg-gray-50 border-b",children:(0,a.jsxs)("tr",{children:[a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Instructor"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Experience"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Rate"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Rating"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Classes"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Status"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Actions"})]})}),a.jsx("tbody",{className:"divide-y divide-gray-200",children:e.map(e=>(0,a.jsxs)("tr",{className:"hover:bg-gray-50",children:[a.jsx("td",{className:"px-6 py-4",children:a.jsx("div",{className:"flex items-center",children:(0,a.jsxs)("div",{children:[a.jsx("div",{className:"text-sm font-medium text-gray-900",children:e.user?.name||"Unknown"}),a.jsx("div",{className:"text-xs text-gray-500",children:e.user?.email}),(0,a.jsxs)("div",{className:"text-xs text-gray-400 mt-1",children:[e.specialties?.length||0," specialties"]})]})})}),(0,a.jsxs)("td",{className:"px-6 py-4",children:[(0,a.jsxs)("div",{className:"text-sm text-gray-900",children:[e.experience," years"]}),(0,a.jsxs)("div",{className:"text-xs text-gray-500",children:[e.certifications?.length||0," certifications"]})]}),(0,a.jsxs)("td",{className:"px-6 py-4 text-sm font-medium",children:["$",e.hourlyRate,"/hr"]}),(0,a.jsxs)("td",{className:"px-6 py-4",children:[(0,a.jsxs)("div",{className:"flex items-center",children:[a.jsx("span",{className:"text-yellow-500",children:"⭐"}),a.jsx("span",{className:"ml-1 text-sm",children:e.rating||0})]}),(0,a.jsxs)("div",{className:"text-xs text-gray-500",children:[e.totalStudents||0," students"]})]}),(0,a.jsxs)("td",{className:"px-6 py-4 text-sm text-gray-500",children:[e._count?.classes||0," active"]}),a.jsx("td",{className:"px-6 py-4",children:a.jsx("span",{className:`px-2 py-1 text-xs rounded-full ${e.isAvailable?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:e.isAvailable?"Available":"Unavailable"})}),(0,a.jsxs)("td",{className:"px-6 py-4",children:[a.jsx("button",{onClick:()=>u(e),className:"text-indigo-600 hover:text-indigo-900 mr-3",children:"Edit"}),a.jsx("button",{onClick:()=>p(e.id),className:"text-red-600 hover:text-red-900",children:"Delete"})]})]},e.id))})]})})}),r&&a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,a.jsxs)("div",{className:"bg-white rounded-lg p-6 w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:[a.jsx("h3",{className:"text-xl font-bold mb-4",children:d?"Edit Instructor":"Add New Instructor"}),(0,a.jsxs)("form",{onSubmit:h,className:"space-y-4",children:[!d&&(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"User"}),a.jsx("select",{value:o.userId,onChange:e=>x({...o,userId:e.target.value}),className:"w-full px-3 py-2 border rounded-lg",required:!0,children:a.jsx("option",{value:"",children:"Select a user (must be instructor role)"})}),a.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"User must have instructor role"})]}),(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Bio"}),a.jsx("textarea",{value:o.bio,onChange:e=>x({...o,bio:e.target.value}),className:"w-full px-3 py-2 border rounded-lg",rows:3,placeholder:"Instructor bio..."})]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Experience (years)"}),a.jsx("input",{type:"number",min:"0",value:o.experience,onChange:e=>x({...o,experience:e.target.value}),className:"w-full px-3 py-2 border rounded-lg",required:!0})]}),(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Hourly Rate ($)"}),a.jsx("input",{type:"number",step:"0.01",value:o.hourlyRate,onChange:e=>x({...o,hourlyRate:e.target.value}),className:"w-full px-3 py-2 border rounded-lg",required:!0})]})]}),(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Specialties"}),a.jsx("div",{className:"grid grid-cols-3 gap-2",children:["Contemporary","Ballet","Jazz","Hip Hop","Latin","Ballroom","Street","Modern","Tap","Salsa","Bachata","Swing","Tango","Breaking","Choreography"].map(e=>(0,a.jsxs)("label",{className:"flex items-center space-x-2",children:[a.jsx("input",{type:"checkbox",checked:o.specialties.includes(e),onChange:()=>g(e),className:"rounded"}),a.jsx("span",{className:"text-sm",children:e})]},e))})]}),(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Certifications"}),(0,a.jsxs)("div",{className:"space-y-2",children:[o.certifications.map((e,t)=>(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"flex-1 px-3 py-2 bg-gray-50 rounded",children:e}),a.jsx("button",{type:"button",onClick:()=>y(t),className:"text-red-600 hover:text-red-700",children:"Remove"})]},t)),a.jsx("button",{type:"button",onClick:()=>{let e=prompt("Enter certification name:");e&&e.trim()&&x(t=>({...t,certifications:[...t.certifications,e.trim()]}))},className:"px-3 py-1 bg-gray-100 text-gray-700 rounded hover:bg-gray-200",children:"+ Add Certification"})]})]}),(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Profile Image URL"}),a.jsx("input",{type:"url",value:o.profileImageUrl,onChange:e=>x({...o,profileImageUrl:e.target.value}),className:"w-full px-3 py-2 border rounded-lg",placeholder:"Optional"})]}),(0,a.jsxs)("div",{className:"flex items-center",children:[a.jsx("input",{type:"checkbox",id:"isAvailable",checked:o.isAvailable,onChange:e=>x({...o,isAvailable:e.target.checked}),className:"mr-2"}),a.jsx("label",{htmlFor:"isAvailable",className:"text-sm font-medium text-gray-700",children:"Available for bookings"})]}),(0,a.jsxs)("div",{className:"flex justify-end gap-3 pt-4",children:[a.jsx("button",{type:"button",onClick:()=>n(!1),className:"px-4 py-2 border rounded-lg hover:bg-gray-50",children:"Cancel"}),a.jsx("button",{type:"submit",className:"px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700",children:d?"Update":"Create"})]})]})]})})]})}function u(){let[e,t]=(0,l.useState)([]),[s,i]=(0,l.useState)(!0),[r,n]=(0,l.useState)(!1),[d,c]=(0,l.useState)(null),[o,x]=(0,l.useState)("all"),[m,u]=(0,l.useState)("all"),[p,h]=(0,l.useState)({userId:"",bookingId:"",amount:"0",type:"Payment",status:"PENDING",paymentMethod:"Card",referenceNumber:"",description:""}),g=e.filter(e=>"COMPLETED"===e.status&&"Payment"===e.type).reduce((e,t)=>e+parseFloat(t.amount),0),y=e.filter(e=>"COMPLETED"===e.status&&"Refund"===e.type).reduce((e,t)=>e+parseFloat(t.amount),0),j=e.filter(e=>"PENDING"===e.status).length,b=e.filter(e=>"COMPLETED"===e.status).length,f=async()=>{i(!0);try{let e=await fetch("/api/admin/transactions");if(e.ok){let s=await e.json();t(s.transactions)}}catch(e){console.error("Error fetching transactions:",e)}finally{i(!1)}},v=e=>{c(e),h({userId:e.userId,bookingId:e.bookingId||"",amount:e.amount.toString(),type:e.type,status:e.status,paymentMethod:e.paymentMethod||"Card",referenceNumber:e.referenceNumber||"",description:e.description||""}),n(!0)},N=async e=>{if(confirm("Are you sure you want to delete this transaction record?"))try{let t=await fetch(`/api/admin/transactions/${e}`,{method:"DELETE"});if(t.ok)f(),alert("Transaction deleted successfully");else{let e=await t.json();alert(e.error||"Failed to delete transaction")}}catch(e){alert("Failed to delete transaction")}},w=async e=>{e.preventDefault();let t=d?`/api/admin/transactions/${d.id}`:"/api/admin/transactions";try{let e=await fetch(t,{method:d?"PUT":"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(p)});if(e.ok)n(!1),f(),alert(`Transaction ${d?"updated":"created"} successfully`);else{let t=await e.json();alert(t.error||"Failed to save transaction")}}catch(e){alert("Failed to save transaction")}},C=e=>{switch(e){case"COMPLETED":return"bg-green-100 text-green-800";case"PENDING":return"bg-yellow-100 text-yellow-800";case"FAILED":return"bg-red-100 text-red-800";case"REFUNDED":return"bg-purple-100 text-purple-800";default:return"bg-gray-100 text-gray-800"}},D=e=>{switch(e){case"Payment":return"\uD83D\uDCB3";case"Refund":return"↩️";case"Adjustment":return"⚖️";default:return"\uD83D\uDCB0"}},k=e.filter(e=>{if("all"!==o&&e.status!==o)return!1;if("all"!==m){let t=new Date(e.createdAt),s=Math.floor((new Date().getTime()-t.getTime())/864e5);if("today"===m&&s>0||"week"===m&&s>7||"month"===m&&s>30)return!1}return!0});return s?a.jsx("div",{className:"flex justify-center items-center h-64",children:a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-purple-600"})}):(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[a.jsx("h2",{className:"text-3xl font-bold",children:"Transaction Management"}),a.jsx("button",{onClick:()=>{c(null),h({userId:"",bookingId:"",amount:"0",type:"Payment",status:"PENDING",paymentMethod:"Card",referenceNumber:"",description:""}),n(!0)},className:"px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 transition",children:"➕ Add Transaction"})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6",children:[(0,a.jsxs)("div",{className:"bg-green-50 p-4 rounded-lg",children:[a.jsx("div",{className:"text-green-600 text-sm font-medium",children:"Total Revenue"}),(0,a.jsxs)("div",{className:"text-2xl font-bold text-green-700",children:["$",g.toFixed(2)]}),(0,a.jsxs)("div",{className:"text-xs text-green-600",children:[b," completed"]})]}),(0,a.jsxs)("div",{className:"bg-red-50 p-4 rounded-lg",children:[a.jsx("div",{className:"text-red-600 text-sm font-medium",children:"Total Refunds"}),(0,a.jsxs)("div",{className:"text-2xl font-bold text-red-700",children:["$",y.toFixed(2)]})]}),(0,a.jsxs)("div",{className:"bg-yellow-50 p-4 rounded-lg",children:[a.jsx("div",{className:"text-yellow-600 text-sm font-medium",children:"Pending"}),a.jsx("div",{className:"text-2xl font-bold text-yellow-700",children:j}),a.jsx("div",{className:"text-xs text-yellow-600",children:"Awaiting processing"})]}),(0,a.jsxs)("div",{className:"bg-blue-50 p-4 rounded-lg",children:[a.jsx("div",{className:"text-blue-600 text-sm font-medium",children:"Net Revenue"}),(0,a.jsxs)("div",{className:"text-2xl font-bold text-blue-700",children:["$",(g-y).toFixed(2)]})]})]}),(0,a.jsxs)("div",{className:"flex gap-4 mb-6",children:[a.jsx("div",{className:"flex gap-2",children:["all","PENDING","COMPLETED","FAILED","REFUNDED"].map(e=>a.jsx("button",{onClick:()=>x(e),className:`px-3 py-1 rounded-lg text-sm transition ${o===e?"bg-purple-600 text-white":"bg-gray-100 hover:bg-gray-200"}`,children:"all"===e?"All Status":e},e))}),a.jsx("div",{className:"flex gap-2",children:["all","today","week","month"].map(e=>a.jsx("button",{onClick:()=>u(e),className:`px-3 py-1 rounded-lg text-sm transition ${m===e?"bg-blue-600 text-white":"bg-gray-100 hover:bg-gray-200"}`,children:"all"===e?"All Time":"today"===e?"Today":"week"===e?"This Week":"This Month"},e))})]}),a.jsx("div",{className:"bg-white rounded-xl shadow-lg overflow-hidden",children:a.jsx("div",{className:"overflow-x-auto",children:(0,a.jsxs)("table",{className:"w-full",children:[a.jsx("thead",{className:"bg-gray-50 border-b",children:(0,a.jsxs)("tr",{children:[a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Transaction"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"User"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Type"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Amount"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Method"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Status"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Date"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Actions"})]})}),a.jsx("tbody",{className:"divide-y divide-gray-200",children:k.map(e=>(0,a.jsxs)("tr",{className:"hover:bg-gray-50",children:[(0,a.jsxs)("td",{className:"px-6 py-4",children:[(0,a.jsxs)("div",{className:"text-sm font-medium text-gray-900",children:["#",e.referenceNumber||e.id.slice(-8)]}),e.description&&a.jsx("div",{className:"text-xs text-gray-500",children:e.description})]}),(0,a.jsxs)("td",{className:"px-6 py-4",children:[a.jsx("div",{className:"text-sm text-gray-900",children:e.user?.name||"Unknown"}),a.jsx("div",{className:"text-xs text-gray-500",children:e.user?.email})]}),(0,a.jsxs)("td",{className:"px-6 py-4",children:[a.jsx("span",{className:"text-lg",children:D(e.type)}),a.jsx("span",{className:"ml-2 text-sm",children:e.type})]}),(0,a.jsxs)("td",{className:"px-6 py-4 text-sm font-medium",children:["$",parseFloat(e.amount).toFixed(2)]}),a.jsx("td",{className:"px-6 py-4 text-sm text-gray-500",children:e.paymentMethod||"N/A"}),a.jsx("td",{className:"px-6 py-4",children:a.jsx("span",{className:`px-2 py-1 text-xs rounded-full ${C(e.status)}`,children:e.status})}),a.jsx("td",{className:"px-6 py-4 text-sm text-gray-500",children:new Date(e.createdAt).toLocaleDateString()}),(0,a.jsxs)("td",{className:"px-6 py-4",children:[a.jsx("button",{onClick:()=>v(e),className:"text-indigo-600 hover:text-indigo-900 mr-3",children:"Edit"}),a.jsx("button",{onClick:()=>N(e.id),className:"text-red-600 hover:text-red-900",children:"Delete"})]})]},e.id))})]})})}),r&&a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,a.jsxs)("div",{className:"bg-white rounded-lg p-6 w-full max-w-lg",children:[a.jsx("h3",{className:"text-xl font-bold mb-4",children:d?"Edit Transaction":"Add New Transaction"}),(0,a.jsxs)("form",{onSubmit:w,className:"space-y-4",children:[(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Type"}),(0,a.jsxs)("select",{value:p.type,onChange:e=>h({...p,type:e.target.value}),className:"w-full px-3 py-2 border rounded-lg",children:[a.jsx("option",{value:"Payment",children:"Payment"}),a.jsx("option",{value:"Refund",children:"Refund"}),a.jsx("option",{value:"Adjustment",children:"Adjustment"})]})]}),(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Status"}),(0,a.jsxs)("select",{value:p.status,onChange:e=>h({...p,status:e.target.value}),className:"w-full px-3 py-2 border rounded-lg",children:[a.jsx("option",{value:"PENDING",children:"Pending"}),a.jsx("option",{value:"COMPLETED",children:"Completed"}),a.jsx("option",{value:"FAILED",children:"Failed"}),a.jsx("option",{value:"REFUNDED",children:"Refunded"})]})]})]}),(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Amount ($)"}),a.jsx("input",{type:"number",step:"0.01",value:p.amount,onChange:e=>h({...p,amount:e.target.value}),className:"w-full px-3 py-2 border rounded-lg",required:!0})]}),(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Payment Method"}),(0,a.jsxs)("select",{value:p.paymentMethod,onChange:e=>h({...p,paymentMethod:e.target.value}),className:"w-full px-3 py-2 border rounded-lg",children:[a.jsx("option",{value:"Card",children:"Credit Card"}),a.jsx("option",{value:"PayPal",children:"PayPal"}),a.jsx("option",{value:"Bank",children:"Bank Transfer"}),a.jsx("option",{value:"Cash",children:"Cash"}),a.jsx("option",{value:"Other",children:"Other"})]})]}),(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Reference Number"}),a.jsx("input",{type:"text",value:p.referenceNumber,onChange:e=>h({...p,referenceNumber:e.target.value}),className:"w-full px-3 py-2 border rounded-lg",placeholder:"Optional"})]}),(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),a.jsx("textarea",{value:p.description,onChange:e=>h({...p,description:e.target.value}),className:"w-full px-3 py-2 border rounded-lg",rows:2,placeholder:"Optional notes..."})]}),(0,a.jsxs)("div",{className:"flex justify-end gap-3 pt-4",children:[a.jsx("button",{type:"button",onClick:()=>n(!1),className:"px-4 py-2 border rounded-lg hover:bg-gray-50",children:"Cancel"}),a.jsx("button",{type:"submit",className:"px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700",children:d?"Update":"Create"})]})]})]})})]})}function p(){return(0,a.jsxs)("div",{children:[a.jsx("h2",{className:"text-3xl font-bold mb-6",children:"Forum Moderation"}),(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow p-6",children:[a.jsx("p",{className:"text-gray-600",children:"Forum posts and replies management coming soon..."}),(0,a.jsxs)("ul",{className:"mt-4 text-sm text-gray-500",children:[a.jsx("li",{children:"• Moderate forum posts"}),a.jsx("li",{children:"• Manage replies"}),a.jsx("li",{children:"• Flag/unflag content"}),a.jsx("li",{children:"• Delete inappropriate content"})]})]})]})}function h(){return(0,a.jsxs)("div",{children:[a.jsx("h2",{className:"text-3xl font-bold mb-6",children:"Notification Center"}),(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow p-6",children:[a.jsx("p",{className:"text-gray-600",children:"Notification management coming soon..."}),(0,a.jsxs)("ul",{className:"mt-4 text-sm text-gray-500",children:[a.jsx("li",{children:"• Send bulk notifications"}),a.jsx("li",{children:"• Manage notification templates"}),a.jsx("li",{children:"• View notification history"}),a.jsx("li",{children:"• Track read/unread status"})]})]})]})}function g(){let[e,t]=(0,l.useState)("dashboard"),[s,g]=(0,l.useState)(null),[y,j]=(0,l.useState)(!0),[b,f]=(0,l.useState)(null),[v,N]=(0,l.useState)(null),w=async()=>{j(!0),f(null);try{let e=await fetch("/api/admin/stats");if(!e.ok)throw Error("Failed to fetch stats");let t=await e.json();g(t.stats)}catch(e){console.error("Error fetching admin data:",e),f(e instanceof Error?e.message:"Failed to load data")}finally{j(!1)}},C=async()=>{try{let e=await fetch("/api/admin/helpers");if(e.ok){let t=await e.json();N(t)}}catch(e){console.error("Error fetching helper data:",e)}},D=[{id:"dashboard",label:"Dashboard",icon:"\uD83D\uDCCA"},{id:"users",label:"Users",icon:"\uD83D\uDC65",badge:s?.totalUsers},{id:"instructors",label:"Instructors",icon:"\uD83C\uDF93",badge:s?.totalInstructors},{id:"classes",label:"Classes",icon:"\uD83D\uDCDA",badge:s?.totalClasses},{id:"events",label:"Events",icon:"\uD83C\uDF89",badge:s?.totalEvents},{id:"bookings",label:"Bookings",icon:"\uD83C\uDFAB",badge:s?.totalBookings},{id:"venues",label:"Venues",icon:"\uD83C\uDFE2",badge:s?.totalVenues},{id:"styles",label:"Dance Styles",icon:"\uD83D\uDC83",badge:s?.totalDanceStyles},{id:"transactions",label:"Transactions",icon:"\uD83D\uDCB0",badge:s?.totalTransactions},{id:"forum",label:"Forum",icon:"\uD83D\uDCAC",badge:s?.totalForumPosts},{id:"testimonials",label:"Testimonials",icon:"⭐",badge:s?.totalTestimonials},{id:"partners",label:"Partner Matching",icon:"\uD83E\uDD1D",badge:s?.activePartnerRequests},{id:"notifications",label:"Notifications",icon:"\uD83D\uDD14",badge:s?.unreadNotifications},{id:"messages",label:"Contact Messages",icon:"\uD83D\uDCE7",badge:s?.unreadMessages},{id:"audit",label:"Audit Logs",icon:"\uD83D\uDCCB"},{id:"api-docs",label:"API Documentation",icon:"\uD83D\uDCD6"}],k=()=>s?(0,a.jsxs)("div",{children:[a.jsx("h2",{className:"text-3xl font-bold mb-8",children:"Admin Dashboard"}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[a.jsx("div",{className:"bg-gradient-to-br from-purple-500 to-purple-600 text-white p-6 rounded-xl shadow-lg",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[a.jsx("p",{className:"text-purple-100 text-sm",children:"Total Revenue"}),(0,a.jsxs)("p",{className:"text-3xl font-bold",children:["$",s.totalRevenue.toLocaleString()]}),(0,a.jsxs)("p",{className:"text-purple-100 text-sm mt-2",children:[s.confirmedBookings," confirmed"]})]}),a.jsx("div",{className:"text-4xl opacity-80",children:"\uD83D\uDCB0"})]})}),a.jsx("div",{className:"bg-gradient-to-br from-blue-500 to-blue-600 text-white p-6 rounded-xl shadow-lg",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[a.jsx("p",{className:"text-blue-100 text-sm",children:"Total Users"}),a.jsx("p",{className:"text-3xl font-bold",children:s.totalUsers}),(0,a.jsxs)("p",{className:"text-blue-100 text-sm mt-2",children:[s.userBreakdown.admins," admin, ",s.userBreakdown.instructors," instructors"]})]}),a.jsx("div",{className:"text-4xl opacity-80",children:"\uD83D\uDC65"})]})}),a.jsx("div",{className:"bg-gradient-to-br from-green-500 to-green-600 text-white p-6 rounded-xl shadow-lg",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[a.jsx("p",{className:"text-green-100 text-sm",children:"Classes & Events"}),a.jsx("p",{className:"text-3xl font-bold",children:s.totalClasses+s.totalEvents}),(0,a.jsxs)("p",{className:"text-green-100 text-sm mt-2",children:[s.totalClasses," classes, ",s.totalEvents," events"]})]}),a.jsx("div",{className:"text-4xl opacity-80",children:"\uD83C\uDFAF"})]})}),a.jsx("div",{className:"bg-gradient-to-br from-orange-500 to-orange-600 text-white p-6 rounded-xl shadow-lg",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[a.jsx("p",{className:"text-orange-100 text-sm",children:"Total Bookings"}),a.jsx("p",{className:"text-3xl font-bold",children:s.totalBookings}),(0,a.jsxs)("p",{className:"text-orange-100 text-sm mt-2",children:[s.totalTransactions," transactions"]})]}),a.jsx("div",{className:"text-4xl opacity-80",children:"\uD83D\uDCDD"})]})})]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-8",children:[a.jsx("div",{className:"bg-white p-4 rounded-lg shadow",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[a.jsx("p",{className:"text-gray-500 text-xs",children:"Venues"}),a.jsx("p",{className:"text-2xl font-bold",children:s.totalVenues})]}),a.jsx("span",{className:"text-2xl",children:"\uD83C\uDFE2"})]})}),a.jsx("div",{className:"bg-white p-4 rounded-lg shadow",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[a.jsx("p",{className:"text-gray-500 text-xs",children:"Dance Styles"}),a.jsx("p",{className:"text-2xl font-bold",children:s.totalDanceStyles})]}),a.jsx("span",{className:"text-2xl",children:"\uD83D\uDC83"})]})}),a.jsx("div",{className:"bg-white p-4 rounded-lg shadow",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[a.jsx("p",{className:"text-gray-500 text-xs",children:"Forum Posts"}),a.jsx("p",{className:"text-2xl font-bold",children:s.totalForumPosts})]}),a.jsx("span",{className:"text-2xl",children:"\uD83D\uDCAC"})]})}),a.jsx("div",{className:"bg-white p-4 rounded-lg shadow",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[a.jsx("p",{className:"text-gray-500 text-xs",children:"Testimonials"}),a.jsx("p",{className:"text-2xl font-bold",children:s.totalTestimonials})]}),a.jsx("span",{className:"text-2xl",children:"⭐"})]})})]}),(0,a.jsxs)("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[a.jsx("h3",{className:"text-xl font-semibold mb-4",children:"Quick Actions"}),(0,a.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[(0,a.jsxs)("button",{onClick:()=>t("users"),className:"p-4 bg-blue-50 hover:bg-blue-100 rounded-lg text-center transition",children:[a.jsx("span",{className:"text-2xl block mb-2",children:"\uD83D\uDC64"}),a.jsx("span",{className:"text-sm",children:"Manage Users"})]}),(0,a.jsxs)("button",{onClick:()=>t("classes"),className:"p-4 bg-green-50 hover:bg-green-100 rounded-lg text-center transition",children:[a.jsx("span",{className:"text-2xl block mb-2",children:"\uD83D\uDCDA"}),a.jsx("span",{className:"text-sm",children:"Manage Classes"})]}),(0,a.jsxs)("button",{onClick:()=>t("events"),className:"p-4 bg-purple-50 hover:bg-purple-100 rounded-lg text-center transition",children:[a.jsx("span",{className:"text-2xl block mb-2",children:"\uD83C\uDF89"}),a.jsx("span",{className:"text-sm",children:"Manage Events"})]}),(0,a.jsxs)("button",{onClick:()=>t("bookings"),className:"p-4 bg-orange-50 hover:bg-orange-100 rounded-lg text-center transition",children:[a.jsx("span",{className:"text-2xl block mb-2",children:"\uD83C\uDFAB"}),a.jsx("span",{className:"text-sm",children:"View Bookings"})]})]})]})]}):null;return(0,a.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[a.jsx("header",{className:"bg-white shadow-sm border-b",children:a.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,a.jsxs)("div",{className:"flex justify-between items-center py-4",children:[(0,a.jsxs)("div",{className:"flex items-center gap-4",children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Admin Panel"}),a.jsx("span",{className:"px-3 py-1 bg-purple-100 text-purple-700 rounded-full text-sm",children:"Full CRUD Access"})]}),(0,a.jsxs)("div",{className:"flex items-center gap-4",children:[a.jsx("button",{onClick:()=>{w(),C()},className:"px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 transition",children:"\uD83D\uDD04 Refresh"}),a.jsx(i.default,{href:"/",className:"text-gray-600 hover:text-gray-900",children:"← Back to Site"})]})]})})}),(0,a.jsxs)("div",{className:"flex",children:[a.jsx("aside",{className:"w-64 bg-white h-screen shadow-lg",children:a.jsx("nav",{className:"p-4",children:a.jsx("ul",{className:"space-y-2",children:D.map(s=>a.jsx("li",{children:(0,a.jsxs)("button",{onClick:()=>t(s.id),className:`w-full text-left px-4 py-3 rounded-lg transition flex items-center justify-between ${e===s.id?"bg-purple-600 text-white":"hover:bg-gray-100"}`,children:[(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[a.jsx("span",{className:"text-xl",children:s.icon}),a.jsx("span",{children:s.label})]}),void 0!==s.badge&&s.badge>0&&a.jsx("span",{className:`px-2 py-1 rounded-full text-xs ${e===s.id?"bg-purple-700 text-white":"bg-gray-200 text-gray-700"}`,children:s.badge})]})},s.id))})})}),a.jsx("main",{className:"flex-1 p-8",children:(()=>{if(y&&"dashboard"===e)return a.jsx("div",{className:"flex items-center justify-center h-64",children:(0,a.jsxs)("div",{className:"text-center",children:[a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-purple-600 mx-auto mb-4"}),a.jsx("p",{className:"text-gray-600",children:"Loading..."})]})});if(b&&"dashboard"===e)return a.jsx("div",{className:"bg-red-50 border-l-4 border-red-400 p-4",children:(0,a.jsxs)("p",{className:"text-red-700",children:["Error: ",b]})});switch(e){case"dashboard":return k();case"users":return a.jsx(r,{});case"instructors":return a.jsx(m,{});case"classes":return a.jsx(n,{helperData:v});case"events":return a.jsx(d,{helperData:v});case"bookings":return a.jsx(c,{helperData:v});case"venues":return a.jsx(o,{});case"styles":return a.jsx(x,{});case"transactions":return a.jsx(u,{});case"forum":return a.jsx(p,{});case"testimonials":return(0,a.jsxs)("div",{children:[a.jsx("h2",{className:"text-3xl font-bold mb-6",children:"Testimonial Management"}),(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow p-6",children:[a.jsx("p",{className:"text-gray-600",children:"Manage testimonials and reviews"}),(0,a.jsxs)("ul",{className:"mt-4 text-sm text-gray-500",children:[a.jsx("li",{children:"• Approve/reject testimonials"}),a.jsx("li",{children:"• Edit testimonial content"}),a.jsx("li",{children:"• Feature testimonials"}),a.jsx("li",{children:"• Manage ratings"})]})]})]});case"partners":return(0,a.jsxs)("div",{children:[a.jsx("h2",{className:"text-3xl font-bold mb-6",children:"Partner Matching System"}),(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow p-6",children:[a.jsx("p",{className:"text-gray-600",children:"Manage dance partner matching"}),(0,a.jsxs)("ul",{className:"mt-4 text-sm text-gray-500",children:[a.jsx("li",{children:"• View partner requests"}),a.jsx("li",{children:"• Manage matches"}),a.jsx("li",{children:"• Monitor matching algorithm"}),a.jsx("li",{children:"• Handle disputes"})]})]})]});case"notifications":return a.jsx(h,{});case"messages":return(0,a.jsxs)("div",{children:[a.jsx("h2",{className:"text-3xl font-bold mb-6",children:"Contact Messages"}),(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow p-6",children:[a.jsx("p",{className:"text-gray-600",children:"Manage contact form submissions"}),(0,a.jsxs)("ul",{className:"mt-4 text-sm text-gray-500",children:[a.jsx("li",{children:"• View unread messages"}),a.jsx("li",{children:"• Reply to inquiries"}),a.jsx("li",{children:"• Archive messages"}),a.jsx("li",{children:"• Mark as resolved"})]})]})]});case"audit":return(0,a.jsxs)("div",{children:[a.jsx("h2",{className:"text-3xl font-bold mb-6",children:"Audit Logs"}),(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow p-6",children:[a.jsx("p",{className:"text-gray-600",children:"System audit trail viewer"}),(0,a.jsxs)("ul",{className:"mt-4 text-sm text-gray-500",children:[a.jsx("li",{children:"• View all system actions"}),a.jsx("li",{children:"• Filter by user/action type"}),a.jsx("li",{children:"• Export audit reports"}),a.jsx("li",{children:"• Monitor security events"})]})]})]});case"api-docs":return(0,a.jsxs)("div",{children:[a.jsx("h2",{className:"text-3xl font-bold mb-6",children:"API Documentation"}),(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow p-6 mb-6",children:[a.jsx("p",{className:"text-gray-600 mb-4",children:"Interactive Swagger UI documentation for all Dance Platform API endpoints."}),(0,a.jsxs)("div",{className:"flex flex-col sm:flex-row gap-4",children:[(0,a.jsxs)("a",{href:"/admin/api-docs",target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center px-6 py-3 bg-blue-600 hover:bg-blue-700 text-white font-medium rounded-lg transition-colors",children:[a.jsx("span",{className:"mr-2",children:"\uD83D\uDCD6"}),"Open Swagger UI",a.jsx("span",{className:"ml-2",children:"↗️"})]}),(0,a.jsxs)("a",{href:"/api/swagger",target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center px-6 py-3 bg-gray-600 hover:bg-gray-700 text-white font-medium rounded-lg transition-colors",children:[a.jsx("span",{className:"mr-2",children:"\uD83D\uDCC4"}),"View Raw JSON",a.jsx("span",{className:"ml-2",children:"↗️"})]})]})]}),(0,a.jsxs)("div",{className:"grid md:grid-cols-2 gap-6",children:[(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow p-6",children:[(0,a.jsxs)("h3",{className:"text-xl font-semibold mb-4 flex items-center",children:[a.jsx("span",{className:"mr-2",children:"\uD83D\uDE80"}),"Available Endpoints"]}),(0,a.jsxs)("ul",{className:"space-y-2 text-sm text-gray-600",children:[(0,a.jsxs)("li",{children:["• ",a.jsx("span",{className:"font-mono bg-gray-100 px-2 py-1 rounded",children:"GET /api/admin/stats"})," - Dashboard statistics"]}),(0,a.jsxs)("li",{children:["• ",a.jsx("span",{className:"font-mono bg-gray-100 px-2 py-1 rounded",children:"GET /api/admin/users"})," - User management"]}),(0,a.jsxs)("li",{children:["• ",a.jsx("span",{className:"font-mono bg-gray-100 px-2 py-1 rounded",children:"GET /api/admin/classes"})," - Class management"]}),(0,a.jsxs)("li",{children:["• ",a.jsx("span",{className:"font-mono bg-gray-100 px-2 py-1 rounded",children:"GET /api/admin/events"})," - Event management"]}),(0,a.jsxs)("li",{children:["• ",a.jsx("span",{className:"font-mono bg-gray-100 px-2 py-1 rounded",children:"GET /api/admin/venues"})," - Venue management"]}),(0,a.jsxs)("li",{children:["• ",a.jsx("span",{className:"font-mono bg-gray-100 px-2 py-1 rounded",children:"GET /api/admin/bookings"})," - Booking management"]}),a.jsx("li",{className:"text-gray-400",children:"+ All CRUD operations (POST, PUT, DELETE)"})]})]}),(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow p-6",children:[(0,a.jsxs)("h3",{className:"text-xl font-semibold mb-4 flex items-center",children:[a.jsx("span",{className:"mr-2",children:"⚡"}),"Features"]}),(0,a.jsxs)("ul",{className:"space-y-2 text-sm text-gray-600",children:[a.jsx("li",{children:'• Interactive "Try it out" functionality'}),a.jsx("li",{children:"• Complete request/response examples"}),a.jsx("li",{children:"• Schema documentation for all models"}),a.jsx("li",{children:"• HTTP status code explanations"}),a.jsx("li",{children:"• Parameter validation details"}),a.jsx("li",{children:"• Export as OpenAPI 3.0 specification"})]})]})]})]});default:return(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow p-6",children:[(0,a.jsxs)("h2",{className:"text-2xl font-bold mb-4",children:[e.charAt(0).toUpperCase()+e.slice(1)," Management"]}),a.jsx("p",{className:"text-gray-600",children:"This section is under development. Full CRUD operations coming soon!"})]})}})()})]})]})}},434:(e,t,s)=>{"use strict";s.d(t,{default:()=>l.a});var a=s(9404),l=s.n(a)},8748:(e,t,s)=>{"use strict";s.r(t),s.d(t,{$$typeof:()=>r,__esModule:()=>i,default:()=>n});var a=s(8570);let l=(0,a.createProxy)(String.raw`/Users/hemantd/DL/dance-platform/app/admin/page.tsx`),{__esModule:i,$$typeof:r}=l;l.default;let n=(0,a.createProxy)(String.raw`/Users/hemantd/DL/dance-platform/app/admin/page.tsx#default`)},1506:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>n,metadata:()=>r});var a=s(9510),l=s(5384),i=s.n(l);s(7272);let r={title:"Dance Platform - Modern Dance Studio Management",description:"Professional dance studio platform with booking, payments, and management"};function n({children:e}){return a.jsx("html",{lang:"en",children:a.jsx("body",{className:i().className,children:a.jsx("div",{className:"min-h-screen bg-gradient-to-br from-purple-50 to-pink-50",children:e})})})}},7272:()=>{}};var t=require("../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),a=t.X(0,[948,892,404],()=>s(3078));module.exports=a})();