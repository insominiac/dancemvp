(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[151],{6924:function(e,t,s){Promise.resolve().then(s.bind(s,2677))},2677:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return r}});var l=s(7437),a=s(2265),n=s(7138);function r(){let[e,t]=(0,a.useState)([]),[s,r]=(0,a.useState)([]),[i,c]=(0,a.useState)(!0),[o,d]=(0,a.useState)({eventType:"all",month:"all",priceRange:"all"}),[x,p]=(0,a.useState)("");(0,a.useEffect)(()=>{u()},[]),(0,a.useEffect)(()=>{h()},[e,o,x]);let u=async()=>{c(!0);try{let e=await fetch("/api/public/events");if(e.ok){let s=await e.json();t(s.events),r(s.events)}}catch(e){console.error("Error fetching events:",e)}finally{c(!1)}},h=()=>{let t=[...e];if(x&&(t=t.filter(e=>e.title.toLowerCase().includes(x.toLowerCase())||e.description.toLowerCase().includes(x.toLowerCase()))),"all"!==o.eventType&&(t=t.filter(e=>e.eventType===o.eventType)),"all"!==o.month&&(t=t.filter(e=>new Date(e.startDate).getMonth()===parseInt(o.month))),"all"!==o.priceRange){let[e,s]=o.priceRange.split("-").map(Number);t=t.filter(t=>{let l=parseFloat(t.price);return l>=e&&(!s||l<=s)})}r(t)},m=e=>e.maxAttendees-e.currentAttendees,g=e=>{switch(e){case"Workshop":return"bg-blue-100 text-blue-800";case"Competition":return"bg-red-100 text-red-800";case"Showcase":return"bg-purple-100 text-purple-800";case"Social":return"bg-green-100 text-green-800";case"Masterclass":return"bg-yellow-100 text-yellow-800";default:return"bg-gray-100 text-gray-800"}},v=(e,t)=>{let s=new Date(e),l=new Date(t),a={month:"short",day:"numeric",year:"numeric"};return e===t?s.toLocaleDateString("en-US",a):"".concat(s.toLocaleDateString("en-US",{month:"short",day:"numeric"})," - ").concat(l.toLocaleDateString("en-US",a))};return i?(0,l.jsx)("div",{className:"max-w-7xl mx-auto px-4 py-12",children:(0,l.jsx)("div",{className:"flex justify-center items-center h-64",children:(0,l.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-purple-600"})})}):(0,l.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:[(0,l.jsxs)("div",{className:"text-center mb-12",children:[(0,l.jsx)("h1",{className:"text-4xl font-bold text-gray-900 mb-4",children:"Upcoming Events"}),(0,l.jsx)("p",{className:"text-xl text-gray-600",children:"Join our exciting dance events, workshops, and competitions"})]}),e.filter(e=>e.isFeatured).length>0&&(0,l.jsxs)("div",{className:"mb-12",children:[(0,l.jsx)("h2",{className:"text-2xl font-bold mb-6",children:"Featured Events"}),(0,l.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:e.filter(e=>e.isFeatured).slice(0,2).map(e=>(0,l.jsxs)("div",{className:"bg-gradient-to-r from-purple-600 to-purple-800 rounded-lg p-6 text-white",children:[(0,l.jsxs)("div",{className:"flex justify-between items-start mb-4",children:[(0,l.jsx)("h3",{className:"text-2xl font-bold",children:e.title}),(0,l.jsx)("span",{className:"text-yellow-300",children:"⭐ Featured"})]}),(0,l.jsx)("p",{className:"mb-4 opacity-90",children:e.description}),(0,l.jsxs)("div",{className:"flex justify-between items-end",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("p",{className:"text-sm opacity-75",children:v(e.startDate,e.endDate)}),(0,l.jsxs)("p",{className:"text-2xl font-bold mt-2",children:["$",e.price]})]}),(0,l.jsx)(n.default,{href:"/events/".concat(e.id),className:"px-6 py-2 bg-white text-purple-600 rounded-lg hover:bg-gray-100 transition",children:"Learn More"})]})]},e.id))})]}),(0,l.jsx)("div",{className:"bg-white rounded-lg shadow-sm p-6 mb-8",children:(0,l.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4",children:[(0,l.jsx)("div",{className:"md:col-span-2",children:(0,l.jsx)("input",{type:"text",placeholder:"Search events...",value:x,onChange:e=>p(e.target.value),className:"w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500"})}),(0,l.jsx)("div",{children:(0,l.jsxs)("select",{value:o.eventType,onChange:e=>d({...o,eventType:e.target.value}),className:"w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500",children:[(0,l.jsx)("option",{value:"all",children:"All Types"}),(0,l.jsx)("option",{value:"Workshop",children:"Workshop"}),(0,l.jsx)("option",{value:"Competition",children:"Competition"}),(0,l.jsx)("option",{value:"Showcase",children:"Showcase"}),(0,l.jsx)("option",{value:"Social",children:"Social"}),(0,l.jsx)("option",{value:"Masterclass",children:"Masterclass"})]})}),(0,l.jsx)("div",{children:(0,l.jsxs)("select",{value:o.priceRange,onChange:e=>d({...o,priceRange:e.target.value}),className:"w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500",children:[(0,l.jsx)("option",{value:"all",children:"Any Price"}),(0,l.jsx)("option",{value:"0-50",children:"Under $50"}),(0,l.jsx)("option",{value:"50-100",children:"$50 - $100"}),(0,l.jsx)("option",{value:"100-200",children:"$100 - $200"}),(0,l.jsx)("option",{value:"200-9999",children:"Over $200"})]})}),(0,l.jsx)("div",{children:(0,l.jsx)("button",{onClick:()=>{d({eventType:"all",month:"all",priceRange:"all"}),p("")},className:"w-full px-4 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 transition",children:"Clear Filters"})})]})}),(0,l.jsx)("div",{className:"mb-6",children:(0,l.jsxs)("p",{className:"text-gray-600",children:["Showing ",s.length," of ",e.length," events"]})}),(0,l.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:s.filter(e=>!e.isFeatured).map(e=>{var t;return(0,l.jsxs)("div",{className:"bg-white rounded-lg shadow-lg overflow-hidden hover:shadow-xl transition",children:[(0,l.jsxs)("div",{className:"h-48 bg-gradient-to-br from-indigo-400 to-purple-600 relative",children:[(0,l.jsx)("div",{className:"absolute inset-0 flex items-center justify-center",children:(0,l.jsx)("span",{className:"text-6xl opacity-50 text-white",children:"\uD83C\uDF89"})}),(0,l.jsx)("div",{className:"absolute top-4 right-4",children:(0,l.jsx)("span",{className:"px-2 py-1 text-xs rounded-full ".concat(g(e.eventType)),children:e.eventType})})]}),(0,l.jsxs)("div",{className:"p-6",children:[(0,l.jsx)("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:e.title}),(0,l.jsx)("p",{className:"text-gray-600 mb-4 line-clamp-2",children:e.description}),(0,l.jsxs)("div",{className:"space-y-2 mb-4",children:[(0,l.jsxs)("div",{className:"flex items-center text-sm text-gray-500",children:[(0,l.jsx)("span",{className:"mr-2",children:"\uD83D\uDCC5"}),(0,l.jsx)("span",{children:v(e.startDate,e.endDate)})]}),(0,l.jsxs)("div",{className:"flex items-center text-sm text-gray-500",children:[(0,l.jsx)("span",{className:"mr-2",children:"⏰"}),(0,l.jsxs)("span",{children:[e.startTime," - ",e.endTime]})]}),(0,l.jsxs)("div",{className:"flex items-center text-sm text-gray-500",children:[(0,l.jsx)("span",{className:"mr-2",children:"\uD83D\uDCCD"}),(0,l.jsx)("span",{children:(null===(t=e.venue)||void 0===t?void 0:t.name)||"TBD"})]}),(0,l.jsxs)("div",{className:"flex items-center text-sm text-gray-500",children:[(0,l.jsx)("span",{className:"mr-2",children:"\uD83D\uDC65"}),(0,l.jsx)("span",{children:m(e)>0?"".concat(m(e)," spots left"):"Sold out"})]})]}),(0,l.jsxs)("div",{className:"flex items-center justify-between",children:[(0,l.jsxs)("div",{children:[(0,l.jsxs)("span",{className:"text-2xl font-bold text-gray-900",children:["$",e.price]}),(0,l.jsx)("span",{className:"text-sm text-gray-500",children:"/person"})]}),(0,l.jsx)(n.default,{href:"/events/".concat(e.id),className:"px-4 py-2 rounded-lg transition ".concat(m(e)>0&&"PUBLISHED"===e.status?"bg-purple-600 text-white hover:bg-purple-700":"bg-gray-300 text-gray-500 cursor-not-allowed"),children:m(e)>0?"View Details":"Sold Out"})]})]})]},e.id)})}),0===s.length&&(0,l.jsxs)("div",{className:"text-center py-12",children:[(0,l.jsx)("p",{className:"text-gray-500 text-lg",children:"No events found matching your criteria."}),(0,l.jsx)("button",{onClick:()=>{d({eventType:"all",month:"all",priceRange:"all"}),p("")},className:"mt-4 px-6 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 transition",children:"Clear Filters"})]})]})}},7138:function(e,t,s){"use strict";s.d(t,{default:function(){return a.a}});var l=s(231),a=s.n(l)}},function(e){e.O(0,[231,971,23,744],function(){return e(e.s=6924)}),_N_E=e.O()}]);