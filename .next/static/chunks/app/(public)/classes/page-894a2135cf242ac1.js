(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[391],{7822:function(e,l,s){Promise.resolve().then(s.bind(s,8902))},8902:function(e,l,s){"use strict";s.r(l),s.d(l,{default:function(){return n}});var t=s(7437),a=s(2265),r=s(7138);function n(){let[e,l]=(0,a.useState)([]),[s,n]=(0,a.useState)([]),[i,c]=(0,a.useState)(!0),[d,o]=(0,a.useState)({level:"all",style:"all",instructor:"all",priceRange:"all"}),[u,x]=(0,a.useState)("");(0,a.useEffect)(()=>{p()},[]),(0,a.useEffect)(()=>{h()},[e,d,u]);let p=async()=>{c(!0);try{let e=await fetch("/api/public/classes");if(e.ok){let s=await e.json();l(s.classes),n(s.classes)}}catch(e){console.error("Error fetching classes:",e)}finally{c(!1)}},h=()=>{let l=[...e];if(u&&(l=l.filter(e=>e.title.toLowerCase().includes(u.toLowerCase())||e.description.toLowerCase().includes(u.toLowerCase()))),"all"!==d.level&&(l=l.filter(e=>e.level===d.level)),"all"!==d.priceRange){let[e,s]=d.priceRange.split("-").map(Number);l=l.filter(l=>{let t=parseFloat(l.price);return t>=e&&(!s||t<=s)})}n(l)},m=e=>e.maxStudents-e.currentStudents,g=e=>{switch(e){case"Beginner":return"bg-green-100 text-green-800";case"Intermediate":return"bg-yellow-100 text-yellow-800";case"Advanced":return"bg-red-100 text-red-800";default:return"bg-blue-100 text-blue-800"}};return i?(0,t.jsx)("div",{className:"max-w-7xl mx-auto px-4 py-12",children:(0,t.jsx)("div",{className:"flex justify-center items-center h-64",children:(0,t.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-purple-600"})})}):(0,t.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:[(0,t.jsxs)("div",{className:"text-center mb-12",children:[(0,t.jsx)("h1",{className:"text-4xl font-bold text-gray-900 mb-4",children:"Dance Classes"}),(0,t.jsx)("p",{className:"text-xl text-gray-600",children:"Find the perfect dance class for your skill level and style"})]}),(0,t.jsx)("div",{className:"bg-white rounded-lg shadow-sm p-6 mb-8",children:(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4",children:[(0,t.jsx)("div",{className:"md:col-span-2",children:(0,t.jsx)("input",{type:"text",placeholder:"Search classes...",value:u,onChange:e=>x(e.target.value),className:"w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500"})}),(0,t.jsx)("div",{children:(0,t.jsxs)("select",{value:d.level,onChange:e=>o({...d,level:e.target.value}),className:"w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500",children:[(0,t.jsx)("option",{value:"all",children:"All Levels"}),(0,t.jsx)("option",{value:"Beginner",children:"Beginner"}),(0,t.jsx)("option",{value:"Intermediate",children:"Intermediate"}),(0,t.jsx)("option",{value:"Advanced",children:"Advanced"}),(0,t.jsx)("option",{value:"All Levels",children:"All Levels"})]})}),(0,t.jsx)("div",{children:(0,t.jsxs)("select",{value:d.priceRange,onChange:e=>o({...d,priceRange:e.target.value}),className:"w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500",children:[(0,t.jsx)("option",{value:"all",children:"Any Price"}),(0,t.jsx)("option",{value:"0-25",children:"Under $25"}),(0,t.jsx)("option",{value:"25-50",children:"$25 - $50"}),(0,t.jsx)("option",{value:"50-75",children:"$50 - $75"}),(0,t.jsx)("option",{value:"75-999",children:"Over $75"})]})}),(0,t.jsx)("div",{children:(0,t.jsx)("button",{onClick:()=>{o({level:"all",style:"all",instructor:"all",priceRange:"all"}),x("")},className:"w-full px-4 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 transition",children:"Clear Filters"})})]})}),(0,t.jsx)("div",{className:"mb-6",children:(0,t.jsxs)("p",{className:"text-gray-600",children:["Showing ",s.length," of ",e.length," classes"]})}),(0,t.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:s.map(e=>{var l;return(0,t.jsxs)("div",{className:"bg-white rounded-lg shadow-lg overflow-hidden hover:shadow-xl transition",children:[(0,t.jsxs)("div",{className:"h-48 bg-gradient-to-br from-purple-400 to-purple-600 relative",children:[(0,t.jsx)("div",{className:"absolute inset-0 flex items-center justify-center",children:(0,t.jsx)("span",{className:"text-6xl opacity-50 text-white",children:"\uD83D\uDC83"})}),(0,t.jsx)("div",{className:"absolute top-4 right-4",children:(0,t.jsx)("span",{className:"px-2 py-1 text-xs rounded-full ".concat(g(e.level)),children:e.level})})]}),(0,t.jsxs)("div",{className:"p-6",children:[(0,t.jsx)("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:e.title}),(0,t.jsx)("p",{className:"text-gray-600 mb-4 line-clamp-2",children:e.description}),(0,t.jsxs)("div",{className:"space-y-2 mb-4",children:[(0,t.jsxs)("div",{className:"flex items-center text-sm text-gray-500",children:[(0,t.jsx)("span",{className:"mr-2",children:"\uD83D\uDCC5"}),(0,t.jsx)("span",{children:e.schedule})]}),(0,t.jsxs)("div",{className:"flex items-center text-sm text-gray-500",children:[(0,t.jsx)("span",{className:"mr-2",children:"⏱️"}),(0,t.jsxs)("span",{children:[e.duration," minutes"]})]}),(0,t.jsxs)("div",{className:"flex items-center text-sm text-gray-500",children:[(0,t.jsx)("span",{className:"mr-2",children:"\uD83D\uDCCD"}),(0,t.jsx)("span",{children:(null===(l=e.venue)||void 0===l?void 0:l.name)||"TBD"})]}),(0,t.jsxs)("div",{className:"flex items-center text-sm text-gray-500",children:[(0,t.jsx)("span",{className:"mr-2",children:"\uD83D\uDC65"}),(0,t.jsx)("span",{children:m(e)>0?"".concat(m(e)," spots left"):"Class full"})]})]}),(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsxs)("span",{className:"text-2xl font-bold text-gray-900",children:["$",e.price]}),(0,t.jsx)("span",{className:"text-sm text-gray-500",children:"/class"})]}),(0,t.jsx)(r.default,{href:"/classes/".concat(e.id),className:"px-4 py-2 rounded-lg transition ".concat(m(e)>0?"bg-purple-600 text-white hover:bg-purple-700":"bg-gray-300 text-gray-500 cursor-not-allowed"),children:m(e)>0?"View Details":"Class Full"})]})]})]},e.id)})}),0===s.length&&(0,t.jsxs)("div",{className:"text-center py-12",children:[(0,t.jsx)("p",{className:"text-gray-500 text-lg",children:"No classes found matching your criteria."}),(0,t.jsx)("button",{onClick:()=>{o({level:"all",style:"all",instructor:"all",priceRange:"all"}),x("")},className:"mt-4 px-6 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 transition",children:"Clear Filters"})]})]})}},7138:function(e,l,s){"use strict";s.d(l,{default:function(){return a.a}});var t=s(231),a=s.n(t)}},function(e){e.O(0,[231,971,23,744],function(){return e(e.s=7822)}),_N_E=e.O()}]);