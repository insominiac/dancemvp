(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3],{6345:function(e,t,s){Promise.resolve().then(s.bind(s,863))},863:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return g}});var a=s(7437),l=s(2265),i=s(7138);function r(){let[e,t]=(0,l.useState)([]),[s,i]=(0,l.useState)(!0),[r,n]=(0,l.useState)(!1),[d,c]=(0,l.useState)(null),[o,x]=(0,l.useState)({email:"",password:"",fullName:"",phone:"",role:"USER",bio:"",isVerified:!1});(0,l.useEffect)(()=>{m()},[]);let m=async()=>{i(!0);try{let e=await fetch("/api/admin/users");if(e.ok){let s=await e.json();t(s.users)}}catch(e){console.error("Error fetching users:",e)}finally{i(!1)}},u=e=>{c(e),x({email:e.email,password:"",fullName:e.fullName,phone:e.phone||"",role:e.role,bio:e.bio||"",isVerified:e.isVerified}),n(!0)},p=async e=>{if(confirm("Are you sure you want to delete this user?"))try{(await fetch("/api/admin/users/".concat(e),{method:"DELETE"})).ok&&(m(),alert("User deleted successfully"))}catch(e){alert("Failed to delete user")}},h=async e=>{e.preventDefault();let t=d?"/api/admin/users/".concat(d.id):"/api/admin/users";try{let e=await fetch(t,{method:d?"PUT":"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(o)});if(e.ok)n(!1),m(),alert("User ".concat(d?"updated":"created"," successfully"));else{let t=await e.json();alert(t.error||"Failed to save user")}}catch(e){alert("Failed to save user")}};return s?(0,a.jsx)("div",{className:"flex justify-center items-center h-64",children:(0,a.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-purple-600"})}):(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,a.jsx)("h2",{className:"text-3xl font-bold",children:"User Management"}),(0,a.jsx)("button",{onClick:()=>{c(null),x({email:"",password:"",fullName:"",phone:"",role:"USER",bio:"",isVerified:!1}),n(!0)},className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition",children:"➕ Add New User"})]}),(0,a.jsx)("div",{className:"bg-white rounded-xl shadow-lg overflow-hidden",children:(0,a.jsx)("div",{className:"overflow-x-auto",children:(0,a.jsxs)("table",{className:"w-full",children:[(0,a.jsx)("thead",{className:"bg-gray-50 border-b",children:(0,a.jsxs)("tr",{children:[(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"User"}),(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Role"}),(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Status"}),(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Activity"}),(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Actions"})]})}),(0,a.jsx)("tbody",{className:"divide-y divide-gray-200",children:e.map(e=>{var t,s;return(0,a.jsxs)("tr",{className:"hover:bg-gray-50",children:[(0,a.jsx)("td",{className:"px-6 py-4",children:(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"text-sm font-medium text-gray-900",children:e.fullName}),(0,a.jsx)("div",{className:"text-sm text-gray-500",children:e.email})]})}),(0,a.jsx)("td",{className:"px-6 py-4",children:(0,a.jsx)("span",{className:"px-2 py-1 text-xs rounded-full ".concat("ADMIN"===e.role?"bg-red-100 text-red-800":"INSTRUCTOR"===e.role?"bg-purple-100 text-purple-800":"bg-green-100 text-green-800"),children:e.role})}),(0,a.jsx)("td",{className:"px-6 py-4",children:(0,a.jsx)("span",{className:"px-2 py-1 text-xs rounded-full ".concat(e.isVerified?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800"),children:e.isVerified?"Verified":"Unverified"})}),(0,a.jsxs)("td",{className:"px-6 py-4 text-sm text-gray-500",children:[(null===(t=e._count)||void 0===t?void 0:t.bookings)||0," bookings, ",(null===(s=e._count)||void 0===s?void 0:s.forumPosts)||0," posts"]}),(0,a.jsxs)("td",{className:"px-6 py-4",children:[(0,a.jsx)("button",{onClick:()=>u(e),className:"text-indigo-600 hover:text-indigo-900 mr-3",children:"Edit"}),(0,a.jsx)("button",{onClick:()=>p(e.id),className:"text-red-600 hover:text-red-900",children:"Delete"})]})]},e.id)})})]})})}),r&&(0,a.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,a.jsxs)("div",{className:"bg-white rounded-lg p-6 w-full max-w-md",children:[(0,a.jsx)("h3",{className:"text-xl font-bold mb-4",children:d?"Edit User":"Add New User"}),(0,a.jsxs)("form",{onSubmit:h,className:"space-y-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email"}),(0,a.jsx)("input",{type:"email",value:o.email,onChange:e=>x({...o,email:e.target.value}),className:"w-full px-3 py-2 border rounded-lg",required:!0})]}),!d&&(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Password"}),(0,a.jsx)("input",{type:"password",value:o.password,onChange:e=>x({...o,password:e.target.value}),className:"w-full px-3 py-2 border rounded-lg",required:!0})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Full Name"}),(0,a.jsx)("input",{type:"text",value:o.fullName,onChange:e=>x({...o,fullName:e.target.value}),className:"w-full px-3 py-2 border rounded-lg",required:!0})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Phone"}),(0,a.jsx)("input",{type:"tel",value:o.phone,onChange:e=>x({...o,phone:e.target.value}),className:"w-full px-3 py-2 border rounded-lg"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Role"}),(0,a.jsxs)("select",{value:o.role,onChange:e=>x({...o,role:e.target.value}),className:"w-full px-3 py-2 border rounded-lg",children:[(0,a.jsx)("option",{value:"USER",children:"User"}),(0,a.jsx)("option",{value:"INSTRUCTOR",children:"Instructor"}),(0,a.jsx)("option",{value:"ADMIN",children:"Admin"})]})]}),(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("input",{type:"checkbox",id:"isVerified",checked:o.isVerified,onChange:e=>x({...o,isVerified:e.target.checked}),className:"mr-2"}),(0,a.jsx)("label",{htmlFor:"isVerified",className:"text-sm font-medium text-gray-700",children:"Email Verified"})]}),(0,a.jsxs)("div",{className:"flex justify-end gap-3 pt-4",children:[(0,a.jsx)("button",{type:"button",onClick:()=>n(!1),className:"px-4 py-2 border rounded-lg hover:bg-gray-50",children:"Cancel"}),(0,a.jsx)("button",{type:"submit",className:"px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700",children:d?"Update":"Create"})]})]})]})})]})}function n(e){var t,s;let{helperData:i}=e,[r,n]=(0,l.useState)([]),[d,c]=(0,l.useState)(!0),[o,x]=(0,l.useState)(!1),[m,u]=(0,l.useState)(null),[p,h]=(0,l.useState)({title:"",description:"",level:"Beginner",durationMins:"60",maxCapacity:"30",price:"25",scheduleDays:"",scheduleTime:"",requirements:"",imageUrl:"",isActive:!0,instructorIds:[],styleIds:[]});(0,l.useEffect)(()=>{g()},[]);let g=async()=>{c(!0);try{let e=await fetch("/api/admin/classes");if(e.ok){let t=await e.json();n(t.classes)}}catch(e){console.error("Error fetching classes:",e)}finally{c(!1)}},y=e=>{var t,s;u(e),h({title:e.title,description:e.description,level:e.level,durationMins:e.durationMins.toString(),maxCapacity:e.maxCapacity.toString(),price:e.price.toString(),scheduleDays:e.scheduleDays||"",scheduleTime:e.scheduleTime||"",requirements:"",imageUrl:"",isActive:e.isActive,instructorIds:(null===(t=e.classInstructors)||void 0===t?void 0:t.map(e=>e.instructorId))||[],styleIds:(null===(s=e.classStyles)||void 0===s?void 0:s.map(e=>e.styleId))||[]}),x(!0)},j=async e=>{if(confirm("Are you sure you want to delete this class?"))try{let t=await fetch("/api/admin/classes/".concat(e),{method:"DELETE"});if(t.ok)g(),alert("Class deleted successfully");else{let e=await t.json();alert(e.error||"Failed to delete class")}}catch(e){alert("Failed to delete class")}},b=async e=>{e.preventDefault();let t=m?"/api/admin/classes/".concat(m.id):"/api/admin/classes";try{let e=await fetch(t,{method:m?"PUT":"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(p)});if(e.ok)x(!1),g(),alert("Class ".concat(m?"updated":"created"," successfully"));else{let t=await e.json();alert(t.error||"Failed to save class")}}catch(e){alert("Failed to save class")}};return d?(0,a.jsx)("div",{className:"flex justify-center items-center h-64",children:(0,a.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-purple-600"})}):(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,a.jsx)("h2",{className:"text-3xl font-bold",children:"Class Management"}),(0,a.jsx)("button",{onClick:()=>{u(null),h({title:"",description:"",level:"Beginner",durationMins:"60",maxCapacity:"30",price:"25",scheduleDays:"",scheduleTime:"",requirements:"",imageUrl:"",isActive:!0,instructorIds:[],styleIds:[]}),x(!0)},className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition",children:"➕ Add New Class"})]}),(0,a.jsx)("div",{className:"bg-white rounded-xl shadow-lg overflow-hidden",children:(0,a.jsx)("div",{className:"overflow-x-auto",children:(0,a.jsxs)("table",{className:"w-full",children:[(0,a.jsx)("thead",{className:"bg-gray-50 border-b",children:(0,a.jsxs)("tr",{children:[(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Class"}),(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Level"}),(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Schedule"}),(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Price"}),(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Capacity"}),(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Status"}),(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Actions"})]})}),(0,a.jsx)("tbody",{className:"divide-y divide-gray-200",children:r.map(e=>{var t;return(0,a.jsxs)("tr",{className:"hover:bg-gray-50",children:[(0,a.jsx)("td",{className:"px-6 py-4",children:(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"text-sm font-medium text-gray-900",children:e.title}),(0,a.jsxs)("div",{className:"text-sm text-gray-500",children:[(null===(t=e._count)||void 0===t?void 0:t.bookings)||0," bookings"]})]})}),(0,a.jsx)("td",{className:"px-6 py-4",children:(0,a.jsx)("span",{className:"px-2 py-1 text-xs rounded-full bg-blue-100 text-blue-800",children:e.level})}),(0,a.jsxs)("td",{className:"px-6 py-4 text-sm text-gray-500",children:[(0,a.jsx)("div",{children:e.scheduleDays||"Not set"}),(0,a.jsx)("div",{children:e.scheduleTime||""})]}),(0,a.jsxs)("td",{className:"px-6 py-4 text-sm font-medium",children:["$",e.price]}),(0,a.jsxs)("td",{className:"px-6 py-4 text-sm text-gray-500",children:[e.maxCapacity," spots"]}),(0,a.jsx)("td",{className:"px-6 py-4",children:(0,a.jsx)("span",{className:"px-2 py-1 text-xs rounded-full ".concat(e.isActive?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"),children:e.isActive?"Active":"Inactive"})}),(0,a.jsxs)("td",{className:"px-6 py-4",children:[(0,a.jsx)("button",{onClick:()=>y(e),className:"text-indigo-600 hover:text-indigo-900 mr-3",children:"Edit"}),(0,a.jsx)("button",{onClick:()=>j(e.id),className:"text-red-600 hover:text-red-900",children:"Delete"})]})]},e.id)})})]})})}),o&&(0,a.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,a.jsxs)("div",{className:"bg-white rounded-lg p-6 w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:[(0,a.jsx)("h3",{className:"text-xl font-bold mb-4",children:m?"Edit Class":"Add New Class"}),(0,a.jsxs)("form",{onSubmit:b,className:"space-y-4",children:[(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Title"}),(0,a.jsx)("input",{type:"text",value:p.title,onChange:e=>h({...p,title:e.target.value}),className:"w-full px-3 py-2 border rounded-lg",required:!0})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Level"}),(0,a.jsxs)("select",{value:p.level,onChange:e=>h({...p,level:e.target.value}),className:"w-full px-3 py-2 border rounded-lg",children:[(0,a.jsx)("option",{value:"Beginner",children:"Beginner"}),(0,a.jsx)("option",{value:"Intermediate",children:"Intermediate"}),(0,a.jsx)("option",{value:"Advanced",children:"Advanced"}),(0,a.jsx)("option",{value:"All Levels",children:"All Levels"})]})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),(0,a.jsx)("textarea",{value:p.description,onChange:e=>h({...p,description:e.target.value}),className:"w-full px-3 py-2 border rounded-lg",rows:3,required:!0})]}),(0,a.jsxs)("div",{className:"grid grid-cols-3 gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Duration (mins)"}),(0,a.jsx)("input",{type:"number",value:p.durationMins,onChange:e=>h({...p,durationMins:e.target.value}),className:"w-full px-3 py-2 border rounded-lg",required:!0})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Max Capacity"}),(0,a.jsx)("input",{type:"number",value:p.maxCapacity,onChange:e=>h({...p,maxCapacity:e.target.value}),className:"w-full px-3 py-2 border rounded-lg",required:!0})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Price ($)"}),(0,a.jsx)("input",{type:"number",step:"0.01",value:p.price,onChange:e=>h({...p,price:e.target.value}),className:"w-full px-3 py-2 border rounded-lg",required:!0})]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Schedule Days"}),(0,a.jsx)("input",{type:"text",value:p.scheduleDays,onChange:e=>h({...p,scheduleDays:e.target.value}),className:"w-full px-3 py-2 border rounded-lg",placeholder:"e.g., Monday, Wednesday, Friday"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Schedule Time"}),(0,a.jsx)("input",{type:"text",value:p.scheduleTime,onChange:e=>h({...p,scheduleTime:e.target.value}),className:"w-full px-3 py-2 border rounded-lg",placeholder:"e.g., 6:00 PM"})]})]}),i&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Instructors"}),(0,a.jsx)("select",{multiple:!0,value:p.instructorIds,onChange:e=>{let t=Array.from(e.target.selectedOptions,e=>e.value);h({...p,instructorIds:t})},className:"w-full px-3 py-2 border rounded-lg",size:3,children:null===(t=i.instructors)||void 0===t?void 0:t.map(e=>(0,a.jsxs)("option",{value:e.id,children:[e.name," - ",e.specialty||"General"]},e.id))}),(0,a.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Hold Ctrl/Cmd to select multiple"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Dance Styles"}),(0,a.jsx)("select",{multiple:!0,value:p.styleIds,onChange:e=>{let t=Array.from(e.target.selectedOptions,e=>e.value);h({...p,styleIds:t})},className:"w-full px-3 py-2 border rounded-lg",size:3,children:null===(s=i.danceStyles)||void 0===s?void 0:s.map(e=>(0,a.jsxs)("option",{value:e.id,children:[e.name," (",e.category,")"]},e.id))}),(0,a.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Hold Ctrl/Cmd to select multiple"})]})]}),(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("input",{type:"checkbox",id:"isActive",checked:p.isActive,onChange:e=>h({...p,isActive:e.target.checked}),className:"mr-2"}),(0,a.jsx)("label",{htmlFor:"isActive",className:"text-sm font-medium text-gray-700",children:"Class is Active"})]}),(0,a.jsxs)("div",{className:"flex justify-end gap-3 pt-4",children:[(0,a.jsx)("button",{type:"button",onClick:()=>x(!1),className:"px-4 py-2 border rounded-lg hover:bg-gray-50",children:"Cancel"}),(0,a.jsx)("button",{type:"submit",className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700",children:m?"Update":"Create"})]})]})]})})]})}function d(e){var t,s;let{helperData:i}=e,[r,n]=(0,l.useState)([]),[d,c]=(0,l.useState)(!0),[o,x]=(0,l.useState)(!1),[m,u]=(0,l.useState)(null),[p,h]=(0,l.useState)({title:"",description:"",eventType:"Workshop",startDate:"",endDate:"",startTime:"",endTime:"",venueId:"",price:"50",maxAttendees:"100",imageUrl:"",status:"DRAFT",isFeatured:!1,styleIds:[]});(0,l.useEffect)(()=>{g()},[]);let g=async()=>{c(!0);try{let e=await fetch("/api/admin/events");if(e.ok){let t=await e.json();n(t.events)}}catch(e){console.error("Error fetching events:",e)}finally{c(!1)}},y=e=>{var t;u(e),h({title:e.title,description:e.description,eventType:e.eventType,startDate:e.startDate.split("T")[0],endDate:e.endDate.split("T")[0],startTime:e.startTime,endTime:e.endTime,venueId:e.venueId,price:e.price.toString(),maxAttendees:e.maxAttendees.toString(),imageUrl:"",status:e.status,isFeatured:e.isFeatured,styleIds:(null===(t=e.eventStyles)||void 0===t?void 0:t.map(e=>e.styleId))||[]}),x(!0)},j=async e=>{if(confirm("Are you sure you want to delete this event?"))try{let t=await fetch("/api/admin/events/".concat(e),{method:"DELETE"});if(t.ok)g(),alert("Event deleted successfully");else{let e=await t.json();alert(e.error||"Failed to delete event")}}catch(e){alert("Failed to delete event")}},b=async e=>{e.preventDefault();let t=m?"/api/admin/events/".concat(m.id):"/api/admin/events";try{let e=await fetch(t,{method:m?"PUT":"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(p)});if(e.ok)x(!1),g(),alert("Event ".concat(m?"updated":"created"," successfully"));else{let t=await e.json();alert(t.error||"Failed to save event")}}catch(e){alert("Failed to save event")}};return d?(0,a.jsx)("div",{className:"flex justify-center items-center h-64",children:(0,a.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-purple-600"})}):(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,a.jsx)("h2",{className:"text-3xl font-bold",children:"Event Management"}),(0,a.jsx)("button",{onClick:()=>{var e,t;u(null);let s=new Date().toISOString().split("T")[0];h({title:"",description:"",eventType:"Workshop",startDate:s,endDate:s,startTime:"09:00",endTime:"17:00",venueId:(null==i?void 0:null===(t=i.venues)||void 0===t?void 0:null===(e=t[0])||void 0===e?void 0:e.id)||"",price:"50",maxAttendees:"100",imageUrl:"",status:"DRAFT",isFeatured:!1,styleIds:[]}),x(!0)},className:"px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 transition",children:"➕ Add New Event"})]}),(0,a.jsx)("div",{className:"bg-white rounded-xl shadow-lg overflow-hidden",children:(0,a.jsx)("div",{className:"overflow-x-auto",children:(0,a.jsxs)("table",{className:"w-full",children:[(0,a.jsx)("thead",{className:"bg-gray-50 border-b",children:(0,a.jsxs)("tr",{children:[(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Event"}),(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Date & Time"}),(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Venue"}),(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Price"}),(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Attendees"}),(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Status"}),(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Actions"})]})}),(0,a.jsx)("tbody",{className:"divide-y divide-gray-200",children:r.map(e=>{var t;return(0,a.jsxs)("tr",{className:"hover:bg-gray-50",children:[(0,a.jsx)("td",{className:"px-6 py-4",children:(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"text-sm font-medium text-gray-900",children:[e.title,e.isFeatured&&(0,a.jsx)("span",{className:"ml-2 text-xs text-yellow-600",children:"⭐ Featured"})]}),(0,a.jsx)("div",{className:"text-sm text-gray-500",children:e.eventType})]})}),(0,a.jsxs)("td",{className:"px-6 py-4 text-sm text-gray-500",children:[(0,a.jsx)("div",{children:new Date(e.startDate).toLocaleDateString()}),(0,a.jsxs)("div",{children:[e.startTime," - ",e.endTime]})]}),(0,a.jsx)("td",{className:"px-6 py-4 text-sm text-gray-500",children:(null===(t=e.venue)||void 0===t?void 0:t.name)||"No venue"}),(0,a.jsxs)("td",{className:"px-6 py-4 text-sm font-medium",children:["$",e.price]}),(0,a.jsxs)("td",{className:"px-6 py-4 text-sm text-gray-500",children:[e.currentAttendees,"/",e.maxAttendees]}),(0,a.jsx)("td",{className:"px-6 py-4",children:(0,a.jsx)("span",{className:"px-2 py-1 text-xs rounded-full ".concat("PUBLISHED"===e.status?"bg-green-100 text-green-800":"DRAFT"===e.status?"bg-gray-100 text-gray-800":"bg-red-100 text-red-800"),children:e.status})}),(0,a.jsxs)("td",{className:"px-6 py-4",children:[(0,a.jsx)("button",{onClick:()=>y(e),className:"text-indigo-600 hover:text-indigo-900 mr-3",children:"Edit"}),(0,a.jsx)("button",{onClick:()=>j(e.id),className:"text-red-600 hover:text-red-900",children:"Delete"})]})]},e.id)})})]})})}),o&&(0,a.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,a.jsxs)("div",{className:"bg-white rounded-lg p-6 w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:[(0,a.jsx)("h3",{className:"text-xl font-bold mb-4",children:m?"Edit Event":"Add New Event"}),(0,a.jsxs)("form",{onSubmit:b,className:"space-y-4",children:[(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Title"}),(0,a.jsx)("input",{type:"text",value:p.title,onChange:e=>h({...p,title:e.target.value}),className:"w-full px-3 py-2 border rounded-lg",required:!0})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Event Type"}),(0,a.jsxs)("select",{value:p.eventType,onChange:e=>h({...p,eventType:e.target.value}),className:"w-full px-3 py-2 border rounded-lg",children:[(0,a.jsx)("option",{value:"Workshop",children:"Workshop"}),(0,a.jsx)("option",{value:"Competition",children:"Competition"}),(0,a.jsx)("option",{value:"Showcase",children:"Showcase"}),(0,a.jsx)("option",{value:"Social",children:"Social"}),(0,a.jsx)("option",{value:"Masterclass",children:"Masterclass"})]})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),(0,a.jsx)("textarea",{value:p.description,onChange:e=>h({...p,description:e.target.value}),className:"w-full px-3 py-2 border rounded-lg",rows:3,required:!0})]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Start Date"}),(0,a.jsx)("input",{type:"date",value:p.startDate,onChange:e=>h({...p,startDate:e.target.value}),className:"w-full px-3 py-2 border rounded-lg",required:!0})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"End Date"}),(0,a.jsx)("input",{type:"date",value:p.endDate,onChange:e=>h({...p,endDate:e.target.value}),className:"w-full px-3 py-2 border rounded-lg",required:!0})]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Start Time"}),(0,a.jsx)("input",{type:"time",value:p.startTime,onChange:e=>h({...p,startTime:e.target.value}),className:"w-full px-3 py-2 border rounded-lg",required:!0})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"End Time"}),(0,a.jsx)("input",{type:"time",value:p.endTime,onChange:e=>h({...p,endTime:e.target.value}),className:"w-full px-3 py-2 border rounded-lg",required:!0})]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Venue"}),(0,a.jsxs)("select",{value:p.venueId,onChange:e=>h({...p,venueId:e.target.value}),className:"w-full px-3 py-2 border rounded-lg",required:!0,children:[(0,a.jsx)("option",{value:"",children:"Select a venue"}),null==i?void 0:null===(t=i.venues)||void 0===t?void 0:t.map(e=>(0,a.jsxs)("option",{value:e.id,children:[e.name," - ",e.city]},e.id))]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Status"}),(0,a.jsxs)("select",{value:p.status,onChange:e=>h({...p,status:e.target.value}),className:"w-full px-3 py-2 border rounded-lg",children:[(0,a.jsx)("option",{value:"DRAFT",children:"Draft"}),(0,a.jsx)("option",{value:"PUBLISHED",children:"Published"}),(0,a.jsx)("option",{value:"CANCELLED",children:"Cancelled"})]})]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Price ($)"}),(0,a.jsx)("input",{type:"number",step:"0.01",value:p.price,onChange:e=>h({...p,price:e.target.value}),className:"w-full px-3 py-2 border rounded-lg",required:!0})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Max Attendees"}),(0,a.jsx)("input",{type:"number",value:p.maxAttendees,onChange:e=>h({...p,maxAttendees:e.target.value}),className:"w-full px-3 py-2 border rounded-lg",required:!0})]})]}),i&&(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Dance Styles"}),(0,a.jsx)("select",{multiple:!0,value:p.styleIds,onChange:e=>{let t=Array.from(e.target.selectedOptions,e=>e.value);h({...p,styleIds:t})},className:"w-full px-3 py-2 border rounded-lg",size:3,children:null===(s=i.danceStyles)||void 0===s?void 0:s.map(e=>(0,a.jsxs)("option",{value:e.id,children:[e.name," (",e.category,")"]},e.id))}),(0,a.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Hold Ctrl/Cmd to select multiple"})]}),(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("input",{type:"checkbox",id:"isFeatured",checked:p.isFeatured,onChange:e=>h({...p,isFeatured:e.target.checked}),className:"mr-2"}),(0,a.jsx)("label",{htmlFor:"isFeatured",className:"text-sm font-medium text-gray-700",children:"Featured Event"})]}),(0,a.jsxs)("div",{className:"flex justify-end gap-3 pt-4",children:[(0,a.jsx)("button",{type:"button",onClick:()=>x(!1),className:"px-4 py-2 border rounded-lg hover:bg-gray-50",children:"Cancel"}),(0,a.jsx)("button",{type:"submit",className:"px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700",children:m?"Update":"Create"})]})]})]})})]})}function c(e){var t,s,i;let{helperData:r}=e,[n,d]=(0,l.useState)([]),[c,o]=(0,l.useState)(!0),[x,m]=(0,l.useState)(!1),[u,p]=(0,l.useState)(null),[h,g]=(0,l.useState)({userId:"",classId:"",eventId:"",bookingType:"Class",status:"PENDING",amount:"50",notes:""}),[y,j]=(0,l.useState)("all");(0,l.useEffect)(()=>{b()},[]);let b=async()=>{o(!0);try{let e=await fetch("/api/admin/bookings");if(e.ok){let t=await e.json();d(t.bookings)}}catch(e){console.error("Error fetching bookings:",e)}finally{o(!1)}},v=e=>{p(e),g({userId:e.userId,classId:e.classId||"",eventId:e.eventId||"",bookingType:e.bookingType,status:e.status,amount:e.amount.toString(),notes:e.notes||""}),m(!0)},f=async e=>{if(confirm("Are you sure you want to delete this booking?"))try{let t=await fetch("/api/admin/bookings/".concat(e),{method:"DELETE"});if(t.ok)b(),alert("Booking deleted successfully");else{let e=await t.json();alert(e.error||"Failed to delete booking")}}catch(e){alert("Failed to delete booking")}},N=async e=>{e.preventDefault();let t=u?"/api/admin/bookings/".concat(u.id):"/api/admin/bookings",s={...h};"Class"===h.bookingType?delete s.eventId:delete s.classId;try{let e=await fetch(t,{method:u?"PUT":"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(s)});if(e.ok)m(!1),b(),alert("Booking ".concat(u?"updated":"created"," successfully"));else{let t=await e.json();alert(t.error||"Failed to save booking")}}catch(e){alert("Failed to save booking")}},w=e=>{switch(e){case"CONFIRMED":return"bg-green-100 text-green-800";case"PENDING":return"bg-yellow-100 text-yellow-800";case"CANCELLED":return"bg-red-100 text-red-800";case"COMPLETED":return"bg-blue-100 text-blue-800";default:return"bg-gray-100 text-gray-800"}},C="all"===y?n:n.filter(e=>e.status===y);return c?(0,a.jsx)("div",{className:"flex justify-center items-center h-64",children:(0,a.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-purple-600"})}):(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,a.jsx)("h2",{className:"text-3xl font-bold",children:"Booking Management"}),(0,a.jsx)("button",{onClick:()=>{var e,t;p(null),g({userId:(null==r?void 0:null===(t=r.users)||void 0===t?void 0:null===(e=t[0])||void 0===e?void 0:e.id)||"",classId:"",eventId:"",bookingType:"Class",status:"PENDING",amount:"50",notes:""}),m(!0)},className:"px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 transition",children:"➕ Add New Booking"})]}),(0,a.jsx)("div",{className:"flex gap-2 mb-6",children:["all","PENDING","CONFIRMED","CANCELLED","COMPLETED"].map(e=>(0,a.jsxs)("button",{onClick:()=>j(e),className:"px-4 py-2 rounded-lg transition ".concat(y===e?"bg-purple-600 text-white":"bg-gray-100 hover:bg-gray-200"),children:["all"===e?"All":e,"all"!==e&&(0,a.jsxs)("span",{className:"ml-2 text-xs",children:["(",n.filter(t=>t.status===e).length,")"]})]},e))}),(0,a.jsx)("div",{className:"bg-white rounded-xl shadow-lg overflow-hidden",children:(0,a.jsx)("div",{className:"overflow-x-auto",children:(0,a.jsxs)("table",{className:"w-full",children:[(0,a.jsx)("thead",{className:"bg-gray-50 border-b",children:(0,a.jsxs)("tr",{children:[(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"User"}),(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Booking"}),(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Type"}),(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Amount"}),(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Status"}),(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Date"}),(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Actions"})]})}),(0,a.jsx)("tbody",{className:"divide-y divide-gray-200",children:C.map(e=>{var t,s,l,i;return(0,a.jsxs)("tr",{className:"hover:bg-gray-50",children:[(0,a.jsxs)("td",{className:"px-6 py-4",children:[(0,a.jsx)("div",{className:"text-sm font-medium text-gray-900",children:(null===(t=e.user)||void 0===t?void 0:t.name)||"Unknown User"}),(0,a.jsx)("div",{className:"text-xs text-gray-500",children:null===(s=e.user)||void 0===s?void 0:s.email})]}),(0,a.jsxs)("td",{className:"px-6 py-4",children:[(0,a.jsx)("div",{className:"text-sm text-gray-900",children:"Class"===e.bookingType?null===(l=e.class)||void 0===l?void 0:l.title:null===(i=e.event)||void 0===i?void 0:i.title}),e.notes&&(0,a.jsx)("div",{className:"text-xs text-gray-500 mt-1",children:e.notes})]}),(0,a.jsx)("td",{className:"px-6 py-4",children:(0,a.jsx)("span",{className:"px-2 py-1 text-xs rounded-full bg-indigo-100 text-indigo-800",children:e.bookingType})}),(0,a.jsxs)("td",{className:"px-6 py-4 text-sm font-medium",children:["$",e.amount]}),(0,a.jsx)("td",{className:"px-6 py-4",children:(0,a.jsx)("span",{className:"px-2 py-1 text-xs rounded-full ".concat(w(e.status)),children:e.status})}),(0,a.jsx)("td",{className:"px-6 py-4 text-sm text-gray-500",children:new Date(e.createdAt).toLocaleDateString()}),(0,a.jsxs)("td",{className:"px-6 py-4",children:[(0,a.jsx)("button",{onClick:()=>v(e),className:"text-indigo-600 hover:text-indigo-900 mr-3",children:"Edit"}),(0,a.jsx)("button",{onClick:()=>f(e.id),className:"text-red-600 hover:text-red-900",children:"Delete"})]})]},e.id)})})]})})}),x&&(0,a.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,a.jsxs)("div",{className:"bg-white rounded-lg p-6 w-full max-w-lg",children:[(0,a.jsx)("h3",{className:"text-xl font-bold mb-4",children:u?"Edit Booking":"Add New Booking"}),(0,a.jsxs)("form",{onSubmit:N,className:"space-y-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"User"}),(0,a.jsxs)("select",{value:h.userId,onChange:e=>g({...h,userId:e.target.value}),className:"w-full px-3 py-2 border rounded-lg",required:!0,children:[(0,a.jsx)("option",{value:"",children:"Select a user"}),null==r?void 0:null===(t=r.users)||void 0===t?void 0:t.map(e=>(0,a.jsxs)("option",{value:e.id,children:[e.name," (",e.email,")"]},e.id))]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Booking Type"}),(0,a.jsxs)("select",{value:h.bookingType,onChange:e=>g({...h,bookingType:e.target.value}),className:"w-full px-3 py-2 border rounded-lg",disabled:!!u,children:[(0,a.jsx)("option",{value:"Class",children:"Class"}),(0,a.jsx)("option",{value:"Event",children:"Event"})]})]}),"Class"===h.bookingType?(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Class"}),(0,a.jsxs)("select",{value:h.classId,onChange:e=>g({...h,classId:e.target.value}),className:"w-full px-3 py-2 border rounded-lg",required:!0,children:[(0,a.jsx)("option",{value:"",children:"Select a class"}),null==r?void 0:null===(s=r.classes)||void 0===s?void 0:s.map(e=>(0,a.jsxs)("option",{value:e.id,children:[e.title," - ",e.schedule]},e.id))]})]}):(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Event"}),(0,a.jsxs)("select",{value:h.eventId,onChange:e=>g({...h,eventId:e.target.value}),className:"w-full px-3 py-2 border rounded-lg",required:!0,children:[(0,a.jsx)("option",{value:"",children:"Select an event"}),null==r?void 0:null===(i=r.events)||void 0===i?void 0:i.map(e=>(0,a.jsxs)("option",{value:e.id,children:[e.title," - ",new Date(e.startDate).toLocaleDateString()]},e.id))]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Status"}),(0,a.jsxs)("select",{value:h.status,onChange:e=>g({...h,status:e.target.value}),className:"w-full px-3 py-2 border rounded-lg",children:[(0,a.jsx)("option",{value:"PENDING",children:"Pending"}),(0,a.jsx)("option",{value:"CONFIRMED",children:"Confirmed"}),(0,a.jsx)("option",{value:"CANCELLED",children:"Cancelled"}),(0,a.jsx)("option",{value:"COMPLETED",children:"Completed"})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Amount ($)"}),(0,a.jsx)("input",{type:"number",step:"0.01",value:h.amount,onChange:e=>g({...h,amount:e.target.value}),className:"w-full px-3 py-2 border rounded-lg",required:!0})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Notes"}),(0,a.jsx)("textarea",{value:h.notes,onChange:e=>g({...h,notes:e.target.value}),className:"w-full px-3 py-2 border rounded-lg",rows:2,placeholder:"Optional notes..."})]}),(0,a.jsxs)("div",{className:"flex justify-end gap-3 pt-4",children:[(0,a.jsx)("button",{type:"button",onClick:()=>m(!1),className:"px-4 py-2 border rounded-lg hover:bg-gray-50",children:"Cancel"}),(0,a.jsx)("button",{type:"submit",className:"px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700",children:u?"Update":"Create"})]})]})]})})]})}function o(){let[e,t]=(0,l.useState)([]),[s,i]=(0,l.useState)(!0),[r,n]=(0,l.useState)(!1),[d,c]=(0,l.useState)(null),[o,x]=(0,l.useState)({name:"",address:"",city:"",state:"",zipCode:"",phone:"",email:"",capacity:"100",amenities:[],isActive:!0});(0,l.useEffect)(()=>{m()},[]);let m=async()=>{i(!0);try{let e=await fetch("/api/admin/venues");if(e.ok){let s=await e.json();t(s.venues)}}catch(e){console.error("Error fetching venues:",e)}finally{i(!1)}},u=e=>{c(e),x({name:e.name,address:e.address,city:e.city,state:e.state||"",zipCode:e.zipCode||"",phone:e.phone||"",email:e.email||"",capacity:e.capacity.toString(),amenities:e.amenities||[],isActive:e.isActive}),n(!0)},p=async e=>{if(confirm("Are you sure you want to delete this venue?"))try{let t=await fetch("/api/admin/venues/".concat(e),{method:"DELETE"});if(t.ok)m(),alert("Venue deleted successfully");else{let e=await t.json();alert(e.error||"Failed to delete venue")}}catch(e){alert("Failed to delete venue")}},h=async e=>{e.preventDefault();let t=d?"/api/admin/venues/".concat(d.id):"/api/admin/venues";try{let e=await fetch(t,{method:d?"PUT":"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(o)});if(e.ok)n(!1),m(),alert("Venue ".concat(d?"updated":"created"," successfully"));else{let t=await e.json();alert(t.error||"Failed to save venue")}}catch(e){alert("Failed to save venue")}},g=e=>{x(t=>({...t,amenities:t.amenities.includes(e)?t.amenities.filter(t=>t!==e):[...t.amenities,e]}))};return s?(0,a.jsx)("div",{className:"flex justify-center items-center h-64",children:(0,a.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-purple-600"})}):(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,a.jsx)("h2",{className:"text-3xl font-bold",children:"Venue Management"}),(0,a.jsx)("button",{onClick:()=>{c(null),x({name:"",address:"",city:"",state:"",zipCode:"",phone:"",email:"",capacity:"100",amenities:[],isActive:!0}),n(!0)},className:"px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 transition",children:"➕ Add New Venue"})]}),(0,a.jsx)("div",{className:"bg-white rounded-xl shadow-lg overflow-hidden",children:(0,a.jsx)("div",{className:"overflow-x-auto",children:(0,a.jsxs)("table",{className:"w-full",children:[(0,a.jsx)("thead",{className:"bg-gray-50 border-b",children:(0,a.jsxs)("tr",{children:[(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Venue"}),(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Location"}),(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Contact"}),(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Capacity"}),(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Usage"}),(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Status"}),(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Actions"})]})}),(0,a.jsx)("tbody",{className:"divide-y divide-gray-200",children:e.map(e=>{var t,s,l;return(0,a.jsxs)("tr",{className:"hover:bg-gray-50",children:[(0,a.jsxs)("td",{className:"px-6 py-4",children:[(0,a.jsx)("div",{className:"text-sm font-medium text-gray-900",children:e.name}),(0,a.jsxs)("div",{className:"text-xs text-gray-500",children:[(null===(t=e.amenities)||void 0===t?void 0:t.length)||0," amenities"]})]}),(0,a.jsxs)("td",{className:"px-6 py-4",children:[(0,a.jsx)("div",{className:"text-sm text-gray-500",children:e.address}),(0,a.jsxs)("div",{className:"text-sm text-gray-500",children:[e.city,e.state&&", ".concat(e.state)]})]}),(0,a.jsxs)("td",{className:"px-6 py-4",children:[(0,a.jsx)("div",{className:"text-sm text-gray-500",children:e.phone||"-"}),(0,a.jsx)("div",{className:"text-sm text-gray-500",children:e.email||"-"})]}),(0,a.jsxs)("td",{className:"px-6 py-4 text-sm text-gray-500",children:[e.capacity," people"]}),(0,a.jsxs)("td",{className:"px-6 py-4",children:[(0,a.jsxs)("div",{className:"text-sm text-gray-500",children:[(null===(s=e._count)||void 0===s?void 0:s.events)||0," events"]}),(0,a.jsxs)("div",{className:"text-sm text-gray-500",children:[(null===(l=e._count)||void 0===l?void 0:l.classes)||0," classes"]})]}),(0,a.jsx)("td",{className:"px-6 py-4",children:(0,a.jsx)("span",{className:"px-2 py-1 text-xs rounded-full ".concat(e.isActive?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"),children:e.isActive?"Active":"Inactive"})}),(0,a.jsxs)("td",{className:"px-6 py-4",children:[(0,a.jsx)("button",{onClick:()=>u(e),className:"text-indigo-600 hover:text-indigo-900 mr-3",children:"Edit"}),(0,a.jsx)("button",{onClick:()=>p(e.id),className:"text-red-600 hover:text-red-900",children:"Delete"})]})]},e.id)})})]})})}),r&&(0,a.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,a.jsxs)("div",{className:"bg-white rounded-lg p-6 w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:[(0,a.jsx)("h3",{className:"text-xl font-bold mb-4",children:d?"Edit Venue":"Add New Venue"}),(0,a.jsxs)("form",{onSubmit:h,className:"space-y-4",children:[(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Name"}),(0,a.jsx)("input",{type:"text",value:o.name,onChange:e=>x({...o,name:e.target.value}),className:"w-full px-3 py-2 border rounded-lg",required:!0})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Capacity"}),(0,a.jsx)("input",{type:"number",value:o.capacity,onChange:e=>x({...o,capacity:e.target.value}),className:"w-full px-3 py-2 border rounded-lg",required:!0})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Address"}),(0,a.jsx)("input",{type:"text",value:o.address,onChange:e=>x({...o,address:e.target.value}),className:"w-full px-3 py-2 border rounded-lg",required:!0})]}),(0,a.jsxs)("div",{className:"grid grid-cols-3 gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"City"}),(0,a.jsx)("input",{type:"text",value:o.city,onChange:e=>x({...o,city:e.target.value}),className:"w-full px-3 py-2 border rounded-lg",required:!0})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"State"}),(0,a.jsx)("input",{type:"text",value:o.state,onChange:e=>x({...o,state:e.target.value}),className:"w-full px-3 py-2 border rounded-lg",placeholder:"Optional"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Zip Code"}),(0,a.jsx)("input",{type:"text",value:o.zipCode,onChange:e=>x({...o,zipCode:e.target.value}),className:"w-full px-3 py-2 border rounded-lg",placeholder:"Optional"})]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Phone"}),(0,a.jsx)("input",{type:"tel",value:o.phone,onChange:e=>x({...o,phone:e.target.value}),className:"w-full px-3 py-2 border rounded-lg",placeholder:"Optional"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email"}),(0,a.jsx)("input",{type:"email",value:o.email,onChange:e=>x({...o,email:e.target.value}),className:"w-full px-3 py-2 border rounded-lg",placeholder:"Optional"})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Amenities"}),(0,a.jsx)("div",{className:"grid grid-cols-3 gap-2",children:["Mirrors","Sound System","Changing Rooms","Parking","Air Conditioning","WiFi","Sprung Floor","Stage","Lighting System","Bar/Cafe","Wheelchair Accessible"].map(e=>(0,a.jsxs)("label",{className:"flex items-center space-x-2",children:[(0,a.jsx)("input",{type:"checkbox",checked:o.amenities.includes(e),onChange:()=>g(e),className:"rounded"}),(0,a.jsx)("span",{className:"text-sm",children:e})]},e))})]}),(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("input",{type:"checkbox",id:"isActive",checked:o.isActive,onChange:e=>x({...o,isActive:e.target.checked}),className:"mr-2"}),(0,a.jsx)("label",{htmlFor:"isActive",className:"text-sm font-medium text-gray-700",children:"Active Venue"})]}),(0,a.jsxs)("div",{className:"flex justify-end gap-3 pt-4",children:[(0,a.jsx)("button",{type:"button",onClick:()=>n(!1),className:"px-4 py-2 border rounded-lg hover:bg-gray-50",children:"Cancel"}),(0,a.jsx)("button",{type:"submit",className:"px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700",children:d?"Update":"Create"})]})]})]})})]})}function x(){let[e,t]=(0,l.useState)([]),[s,i]=(0,l.useState)(!0),[r,n]=(0,l.useState)(!1),[d,c]=(0,l.useState)(null),[o,x]=(0,l.useState)({name:"",category:"Contemporary",description:"",difficulty:"Beginner",isActive:!0});(0,l.useEffect)(()=>{m()},[]);let m=async()=>{i(!0);try{let e=await fetch("/api/admin/dance-styles");if(e.ok){let s=await e.json();t(s.styles)}}catch(e){console.error("Error fetching dance styles:",e)}finally{i(!1)}},u=e=>{c(e),x({name:e.name,category:e.category,description:e.description||"",difficulty:e.difficulty,isActive:e.isActive}),n(!0)},p=async e=>{if(confirm("Are you sure you want to delete this dance style?"))try{let t=await fetch("/api/admin/dance-styles/".concat(e),{method:"DELETE"});if(t.ok)m(),alert("Dance style deleted successfully");else{let e=await t.json();alert(e.error||"Failed to delete dance style")}}catch(e){alert("Failed to delete dance style")}},h=async e=>{e.preventDefault();let t=d?"/api/admin/dance-styles/".concat(d.id):"/api/admin/dance-styles";try{let e=await fetch(t,{method:d?"PUT":"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(o)});if(e.ok)n(!1),m(),alert("Dance style ".concat(d?"updated":"created"," successfully"));else{let t=await e.json();alert(t.error||"Failed to save dance style")}}catch(e){alert("Failed to save dance style")}},g=e=>{switch(e){case"Beginner":return"bg-green-100 text-green-800";case"Intermediate":return"bg-yellow-100 text-yellow-800";case"Advanced":return"bg-red-100 text-red-800";default:return"bg-blue-100 text-blue-800"}},y=e=>({Contemporary:"\uD83C\uDFAD",Ballet:"\uD83E\uDE70",Jazz:"\uD83C\uDFB5","Hip Hop":"\uD83C\uDFA4",Latin:"\uD83D\uDC83",Ballroom:"\uD83D\uDD7A",Street:"\uD83C\uDFD9️",Traditional:"\uD83C\uDFDB️",Modern:"✨",Other:"\uD83C\uDFA8"})[e]||"\uD83C\uDFA8";return s?(0,a.jsx)("div",{className:"flex justify-center items-center h-64",children:(0,a.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-purple-600"})}):(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,a.jsx)("h2",{className:"text-3xl font-bold",children:"Dance Style Management"}),(0,a.jsx)("button",{onClick:()=>{c(null),x({name:"",category:"Contemporary",description:"",difficulty:"Beginner",isActive:!0}),n(!0)},className:"px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 transition",children:"➕ Add New Style"})]}),(0,a.jsx)("div",{className:"bg-white rounded-xl shadow-lg overflow-hidden",children:(0,a.jsx)("div",{className:"overflow-x-auto",children:(0,a.jsxs)("table",{className:"w-full",children:[(0,a.jsx)("thead",{className:"bg-gray-50 border-b",children:(0,a.jsxs)("tr",{children:[(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Style"}),(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Category"}),(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Difficulty"}),(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Usage"}),(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Status"}),(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Actions"})]})}),(0,a.jsx)("tbody",{className:"divide-y divide-gray-200",children:e.map(e=>{var t,s,l;return(0,a.jsxs)("tr",{className:"hover:bg-gray-50",children:[(0,a.jsxs)("td",{className:"px-6 py-4",children:[(0,a.jsx)("div",{className:"text-sm font-medium text-gray-900",children:e.name}),e.description&&(0,a.jsx)("div",{className:"text-xs text-gray-500 truncate max-w-xs",children:e.description})]}),(0,a.jsx)("td",{className:"px-6 py-4",children:(0,a.jsxs)("span",{className:"text-sm text-gray-900",children:[y(e.category)," ",e.category]})}),(0,a.jsx)("td",{className:"px-6 py-4",children:(0,a.jsx)("span",{className:"px-2 py-1 text-xs rounded-full ".concat(g(e.difficulty)),children:e.difficulty})}),(0,a.jsx)("td",{className:"px-6 py-4",children:(0,a.jsxs)("div",{className:"text-xs text-gray-500 space-y-1",children:[(0,a.jsxs)("div",{children:[(null===(t=e._count)||void 0===t?void 0:t.classes)||0," classes"]}),(0,a.jsxs)("div",{children:[(null===(s=e._count)||void 0===s?void 0:s.events)||0," events"]}),(0,a.jsxs)("div",{children:[(null===(l=e._count)||void 0===l?void 0:l.instructors)||0," instructors"]})]})}),(0,a.jsx)("td",{className:"px-6 py-4",children:(0,a.jsx)("span",{className:"px-2 py-1 text-xs rounded-full ".concat(e.isActive?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"),children:e.isActive?"Active":"Inactive"})}),(0,a.jsxs)("td",{className:"px-6 py-4",children:[(0,a.jsx)("button",{onClick:()=>u(e),className:"text-indigo-600 hover:text-indigo-900 mr-3",children:"Edit"}),(0,a.jsx)("button",{onClick:()=>p(e.id),className:"text-red-600 hover:text-red-900",children:"Delete"})]})]},e.id)})})]})})}),r&&(0,a.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,a.jsxs)("div",{className:"bg-white rounded-lg p-6 w-full max-w-lg",children:[(0,a.jsx)("h3",{className:"text-xl font-bold mb-4",children:d?"Edit Dance Style":"Add New Dance Style"}),(0,a.jsxs)("form",{onSubmit:h,className:"space-y-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Name"}),(0,a.jsx)("input",{type:"text",value:o.name,onChange:e=>x({...o,name:e.target.value}),className:"w-full px-3 py-2 border rounded-lg",required:!0})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Category"}),(0,a.jsx)("select",{value:o.category,onChange:e=>x({...o,category:e.target.value}),className:"w-full px-3 py-2 border rounded-lg",required:!0,children:["Contemporary","Ballet","Jazz","Hip Hop","Latin","Ballroom","Street","Traditional","Modern","Other"].map(e=>(0,a.jsxs)("option",{value:e,children:[y(e)," ",e]},e))})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Difficulty"}),(0,a.jsx)("select",{value:o.difficulty,onChange:e=>x({...o,difficulty:e.target.value}),className:"w-full px-3 py-2 border rounded-lg",required:!0,children:["Beginner","Intermediate","Advanced","All Levels"].map(e=>(0,a.jsx)("option",{value:e,children:e},e))})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),(0,a.jsx)("textarea",{value:o.description,onChange:e=>x({...o,description:e.target.value}),className:"w-full px-3 py-2 border rounded-lg",rows:3,placeholder:"Optional description..."})]}),(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("input",{type:"checkbox",id:"isActive",checked:o.isActive,onChange:e=>x({...o,isActive:e.target.checked}),className:"mr-2"}),(0,a.jsx)("label",{htmlFor:"isActive",className:"text-sm font-medium text-gray-700",children:"Active Style"})]}),(0,a.jsxs)("div",{className:"flex justify-end gap-3 pt-4",children:[(0,a.jsx)("button",{type:"button",onClick:()=>n(!1),className:"px-4 py-2 border rounded-lg hover:bg-gray-50",children:"Cancel"}),(0,a.jsx)("button",{type:"submit",className:"px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700",children:d?"Update":"Create"})]})]})]})})]})}function m(){let[e,t]=(0,l.useState)([]),[s,i]=(0,l.useState)(!0),[r,n]=(0,l.useState)(!1),[d,c]=(0,l.useState)(null),[o,x]=(0,l.useState)({userId:"",bio:"",experience:"1",specialties:[],certifications:[],hourlyRate:"50",isAvailable:!0,profileImageUrl:""});(0,l.useEffect)(()=>{m()},[]);let m=async()=>{i(!0);try{let e=await fetch("/api/admin/instructors");if(e.ok){let s=await e.json();t(s.instructors)}}catch(e){console.error("Error fetching instructors:",e)}finally{i(!1)}},u=e=>{c(e),x({userId:e.userId,bio:e.bio||"",experience:e.experience.toString(),specialties:e.specialties||[],certifications:e.certifications||[],hourlyRate:e.hourlyRate.toString(),isAvailable:e.isAvailable,profileImageUrl:e.profileImageUrl||""}),n(!0)},p=async e=>{if(confirm("Are you sure you want to delete this instructor profile?"))try{let t=await fetch("/api/admin/instructors/".concat(e),{method:"DELETE"});if(t.ok)m(),alert("Instructor deleted successfully");else{let e=await t.json();alert(e.error||"Failed to delete instructor")}}catch(e){alert("Failed to delete instructor")}},h=async e=>{e.preventDefault();let t=d?"/api/admin/instructors/".concat(d.id):"/api/admin/instructors";try{let e=await fetch(t,{method:d?"PUT":"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(o)});if(e.ok)n(!1),m(),alert("Instructor ".concat(d?"updated":"created"," successfully"));else{let t=await e.json();alert(t.error||"Failed to save instructor")}}catch(e){alert("Failed to save instructor")}},g=e=>{x(t=>({...t,specialties:t.specialties.includes(e)?t.specialties.filter(t=>t!==e):[...t.specialties,e]}))},y=e=>{x(t=>({...t,certifications:t.certifications.filter((t,s)=>s!==e)}))};return s?(0,a.jsx)("div",{className:"flex justify-center items-center h-64",children:(0,a.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-purple-600"})}):(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,a.jsx)("h2",{className:"text-3xl font-bold",children:"Instructor Management"}),(0,a.jsx)("button",{onClick:()=>{c(null),x({userId:"",bio:"",experience:"1",specialties:[],certifications:[],hourlyRate:"50",isAvailable:!0,profileImageUrl:""}),n(!0)},className:"px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 transition",children:"➕ Add New Instructor"})]}),(0,a.jsx)("div",{className:"bg-white rounded-xl shadow-lg overflow-hidden",children:(0,a.jsx)("div",{className:"overflow-x-auto",children:(0,a.jsxs)("table",{className:"w-full",children:[(0,a.jsx)("thead",{className:"bg-gray-50 border-b",children:(0,a.jsxs)("tr",{children:[(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Instructor"}),(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Experience"}),(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Rate"}),(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Rating"}),(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Classes"}),(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Status"}),(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Actions"})]})}),(0,a.jsx)("tbody",{className:"divide-y divide-gray-200",children:e.map(e=>{var t,s,l,i,r;return(0,a.jsxs)("tr",{className:"hover:bg-gray-50",children:[(0,a.jsx)("td",{className:"px-6 py-4",children:(0,a.jsx)("div",{className:"flex items-center",children:(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"text-sm font-medium text-gray-900",children:(null===(t=e.user)||void 0===t?void 0:t.name)||"Unknown"}),(0,a.jsx)("div",{className:"text-xs text-gray-500",children:null===(s=e.user)||void 0===s?void 0:s.email}),(0,a.jsxs)("div",{className:"text-xs text-gray-400 mt-1",children:[(null===(l=e.specialties)||void 0===l?void 0:l.length)||0," specialties"]})]})})}),(0,a.jsxs)("td",{className:"px-6 py-4",children:[(0,a.jsxs)("div",{className:"text-sm text-gray-900",children:[e.experience," years"]}),(0,a.jsxs)("div",{className:"text-xs text-gray-500",children:[(null===(i=e.certifications)||void 0===i?void 0:i.length)||0," certifications"]})]}),(0,a.jsxs)("td",{className:"px-6 py-4 text-sm font-medium",children:["$",e.hourlyRate,"/hr"]}),(0,a.jsxs)("td",{className:"px-6 py-4",children:[(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("span",{className:"text-yellow-500",children:"⭐"}),(0,a.jsx)("span",{className:"ml-1 text-sm",children:e.rating||0})]}),(0,a.jsxs)("div",{className:"text-xs text-gray-500",children:[e.totalStudents||0," students"]})]}),(0,a.jsxs)("td",{className:"px-6 py-4 text-sm text-gray-500",children:[(null===(r=e._count)||void 0===r?void 0:r.classes)||0," active"]}),(0,a.jsx)("td",{className:"px-6 py-4",children:(0,a.jsx)("span",{className:"px-2 py-1 text-xs rounded-full ".concat(e.isAvailable?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"),children:e.isAvailable?"Available":"Unavailable"})}),(0,a.jsxs)("td",{className:"px-6 py-4",children:[(0,a.jsx)("button",{onClick:()=>u(e),className:"text-indigo-600 hover:text-indigo-900 mr-3",children:"Edit"}),(0,a.jsx)("button",{onClick:()=>p(e.id),className:"text-red-600 hover:text-red-900",children:"Delete"})]})]},e.id)})})]})})}),r&&(0,a.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,a.jsxs)("div",{className:"bg-white rounded-lg p-6 w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:[(0,a.jsx)("h3",{className:"text-xl font-bold mb-4",children:d?"Edit Instructor":"Add New Instructor"}),(0,a.jsxs)("form",{onSubmit:h,className:"space-y-4",children:[!d&&(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"User"}),(0,a.jsx)("select",{value:o.userId,onChange:e=>x({...o,userId:e.target.value}),className:"w-full px-3 py-2 border rounded-lg",required:!0,children:(0,a.jsx)("option",{value:"",children:"Select a user (must be instructor role)"})}),(0,a.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"User must have instructor role"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Bio"}),(0,a.jsx)("textarea",{value:o.bio,onChange:e=>x({...o,bio:e.target.value}),className:"w-full px-3 py-2 border rounded-lg",rows:3,placeholder:"Instructor bio..."})]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Experience (years)"}),(0,a.jsx)("input",{type:"number",min:"0",value:o.experience,onChange:e=>x({...o,experience:e.target.value}),className:"w-full px-3 py-2 border rounded-lg",required:!0})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Hourly Rate ($)"}),(0,a.jsx)("input",{type:"number",step:"0.01",value:o.hourlyRate,onChange:e=>x({...o,hourlyRate:e.target.value}),className:"w-full px-3 py-2 border rounded-lg",required:!0})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Specialties"}),(0,a.jsx)("div",{className:"grid grid-cols-3 gap-2",children:["Contemporary","Ballet","Jazz","Hip Hop","Latin","Ballroom","Street","Modern","Tap","Salsa","Bachata","Swing","Tango","Breaking","Choreography"].map(e=>(0,a.jsxs)("label",{className:"flex items-center space-x-2",children:[(0,a.jsx)("input",{type:"checkbox",checked:o.specialties.includes(e),onChange:()=>g(e),className:"rounded"}),(0,a.jsx)("span",{className:"text-sm",children:e})]},e))})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Certifications"}),(0,a.jsxs)("div",{className:"space-y-2",children:[o.certifications.map((e,t)=>(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("span",{className:"flex-1 px-3 py-2 bg-gray-50 rounded",children:e}),(0,a.jsx)("button",{type:"button",onClick:()=>y(t),className:"text-red-600 hover:text-red-700",children:"Remove"})]},t)),(0,a.jsx)("button",{type:"button",onClick:()=>{let e=prompt("Enter certification name:");e&&e.trim()&&x(t=>({...t,certifications:[...t.certifications,e.trim()]}))},className:"px-3 py-1 bg-gray-100 text-gray-700 rounded hover:bg-gray-200",children:"+ Add Certification"})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Profile Image URL"}),(0,a.jsx)("input",{type:"url",value:o.profileImageUrl,onChange:e=>x({...o,profileImageUrl:e.target.value}),className:"w-full px-3 py-2 border rounded-lg",placeholder:"Optional"})]}),(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("input",{type:"checkbox",id:"isAvailable",checked:o.isAvailable,onChange:e=>x({...o,isAvailable:e.target.checked}),className:"mr-2"}),(0,a.jsx)("label",{htmlFor:"isAvailable",className:"text-sm font-medium text-gray-700",children:"Available for bookings"})]}),(0,a.jsxs)("div",{className:"flex justify-end gap-3 pt-4",children:[(0,a.jsx)("button",{type:"button",onClick:()=>n(!1),className:"px-4 py-2 border rounded-lg hover:bg-gray-50",children:"Cancel"}),(0,a.jsx)("button",{type:"submit",className:"px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700",children:d?"Update":"Create"})]})]})]})})]})}function u(){let[e,t]=(0,l.useState)([]),[s,i]=(0,l.useState)(!0),[r,n]=(0,l.useState)(!1),[d,c]=(0,l.useState)(null),[o,x]=(0,l.useState)("all"),[m,u]=(0,l.useState)("all"),[p,h]=(0,l.useState)({userId:"",bookingId:"",amount:"0",type:"Payment",status:"PENDING",paymentMethod:"Card",referenceNumber:"",description:""}),g=e.filter(e=>"COMPLETED"===e.status&&"Payment"===e.type).reduce((e,t)=>e+parseFloat(t.amount),0),y=e.filter(e=>"COMPLETED"===e.status&&"Refund"===e.type).reduce((e,t)=>e+parseFloat(t.amount),0),j=e.filter(e=>"PENDING"===e.status).length,b=e.filter(e=>"COMPLETED"===e.status).length;(0,l.useEffect)(()=>{v()},[]);let v=async()=>{i(!0);try{let e=await fetch("/api/admin/transactions");if(e.ok){let s=await e.json();t(s.transactions)}}catch(e){console.error("Error fetching transactions:",e)}finally{i(!1)}},f=e=>{c(e),h({userId:e.userId,bookingId:e.bookingId||"",amount:e.amount.toString(),type:e.type,status:e.status,paymentMethod:e.paymentMethod||"Card",referenceNumber:e.referenceNumber||"",description:e.description||""}),n(!0)},N=async e=>{if(confirm("Are you sure you want to delete this transaction record?"))try{let t=await fetch("/api/admin/transactions/".concat(e),{method:"DELETE"});if(t.ok)v(),alert("Transaction deleted successfully");else{let e=await t.json();alert(e.error||"Failed to delete transaction")}}catch(e){alert("Failed to delete transaction")}},w=async e=>{e.preventDefault();let t=d?"/api/admin/transactions/".concat(d.id):"/api/admin/transactions";try{let e=await fetch(t,{method:d?"PUT":"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(p)});if(e.ok)n(!1),v(),alert("Transaction ".concat(d?"updated":"created"," successfully"));else{let t=await e.json();alert(t.error||"Failed to save transaction")}}catch(e){alert("Failed to save transaction")}},C=e=>{switch(e){case"COMPLETED":return"bg-green-100 text-green-800";case"PENDING":return"bg-yellow-100 text-yellow-800";case"FAILED":return"bg-red-100 text-red-800";case"REFUNDED":return"bg-purple-100 text-purple-800";default:return"bg-gray-100 text-gray-800"}},D=e=>{switch(e){case"Payment":return"\uD83D\uDCB3";case"Refund":return"↩️";case"Adjustment":return"⚖️";default:return"\uD83D\uDCB0"}},k=e.filter(e=>{if("all"!==o&&e.status!==o)return!1;if("all"!==m){let t=new Date(e.createdAt),s=Math.floor((new Date().getTime()-t.getTime())/864e5);if("today"===m&&s>0||"week"===m&&s>7||"month"===m&&s>30)return!1}return!0});return s?(0,a.jsx)("div",{className:"flex justify-center items-center h-64",children:(0,a.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-purple-600"})}):(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,a.jsx)("h2",{className:"text-3xl font-bold",children:"Transaction Management"}),(0,a.jsx)("button",{onClick:()=>{c(null),h({userId:"",bookingId:"",amount:"0",type:"Payment",status:"PENDING",paymentMethod:"Card",referenceNumber:"",description:""}),n(!0)},className:"px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 transition",children:"➕ Add Transaction"})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6",children:[(0,a.jsxs)("div",{className:"bg-green-50 p-4 rounded-lg",children:[(0,a.jsx)("div",{className:"text-green-600 text-sm font-medium",children:"Total Revenue"}),(0,a.jsxs)("div",{className:"text-2xl font-bold text-green-700",children:["$",g.toFixed(2)]}),(0,a.jsxs)("div",{className:"text-xs text-green-600",children:[b," completed"]})]}),(0,a.jsxs)("div",{className:"bg-red-50 p-4 rounded-lg",children:[(0,a.jsx)("div",{className:"text-red-600 text-sm font-medium",children:"Total Refunds"}),(0,a.jsxs)("div",{className:"text-2xl font-bold text-red-700",children:["$",y.toFixed(2)]})]}),(0,a.jsxs)("div",{className:"bg-yellow-50 p-4 rounded-lg",children:[(0,a.jsx)("div",{className:"text-yellow-600 text-sm font-medium",children:"Pending"}),(0,a.jsx)("div",{className:"text-2xl font-bold text-yellow-700",children:j}),(0,a.jsx)("div",{className:"text-xs text-yellow-600",children:"Awaiting processing"})]}),(0,a.jsxs)("div",{className:"bg-blue-50 p-4 rounded-lg",children:[(0,a.jsx)("div",{className:"text-blue-600 text-sm font-medium",children:"Net Revenue"}),(0,a.jsxs)("div",{className:"text-2xl font-bold text-blue-700",children:["$",(g-y).toFixed(2)]})]})]}),(0,a.jsxs)("div",{className:"flex gap-4 mb-6",children:[(0,a.jsx)("div",{className:"flex gap-2",children:["all","PENDING","COMPLETED","FAILED","REFUNDED"].map(e=>(0,a.jsx)("button",{onClick:()=>x(e),className:"px-3 py-1 rounded-lg text-sm transition ".concat(o===e?"bg-purple-600 text-white":"bg-gray-100 hover:bg-gray-200"),children:"all"===e?"All Status":e},e))}),(0,a.jsx)("div",{className:"flex gap-2",children:["all","today","week","month"].map(e=>(0,a.jsx)("button",{onClick:()=>u(e),className:"px-3 py-1 rounded-lg text-sm transition ".concat(m===e?"bg-blue-600 text-white":"bg-gray-100 hover:bg-gray-200"),children:"all"===e?"All Time":"today"===e?"Today":"week"===e?"This Week":"This Month"},e))})]}),(0,a.jsx)("div",{className:"bg-white rounded-xl shadow-lg overflow-hidden",children:(0,a.jsx)("div",{className:"overflow-x-auto",children:(0,a.jsxs)("table",{className:"w-full",children:[(0,a.jsx)("thead",{className:"bg-gray-50 border-b",children:(0,a.jsxs)("tr",{children:[(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Transaction"}),(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"User"}),(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Type"}),(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Amount"}),(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Method"}),(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Status"}),(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Date"}),(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Actions"})]})}),(0,a.jsx)("tbody",{className:"divide-y divide-gray-200",children:k.map(e=>{var t,s;return(0,a.jsxs)("tr",{className:"hover:bg-gray-50",children:[(0,a.jsxs)("td",{className:"px-6 py-4",children:[(0,a.jsxs)("div",{className:"text-sm font-medium text-gray-900",children:["#",e.referenceNumber||e.id.slice(-8)]}),e.description&&(0,a.jsx)("div",{className:"text-xs text-gray-500",children:e.description})]}),(0,a.jsxs)("td",{className:"px-6 py-4",children:[(0,a.jsx)("div",{className:"text-sm text-gray-900",children:(null===(t=e.user)||void 0===t?void 0:t.name)||"Unknown"}),(0,a.jsx)("div",{className:"text-xs text-gray-500",children:null===(s=e.user)||void 0===s?void 0:s.email})]}),(0,a.jsxs)("td",{className:"px-6 py-4",children:[(0,a.jsx)("span",{className:"text-lg",children:D(e.type)}),(0,a.jsx)("span",{className:"ml-2 text-sm",children:e.type})]}),(0,a.jsxs)("td",{className:"px-6 py-4 text-sm font-medium",children:["$",parseFloat(e.amount).toFixed(2)]}),(0,a.jsx)("td",{className:"px-6 py-4 text-sm text-gray-500",children:e.paymentMethod||"N/A"}),(0,a.jsx)("td",{className:"px-6 py-4",children:(0,a.jsx)("span",{className:"px-2 py-1 text-xs rounded-full ".concat(C(e.status)),children:e.status})}),(0,a.jsx)("td",{className:"px-6 py-4 text-sm text-gray-500",children:new Date(e.createdAt).toLocaleDateString()}),(0,a.jsxs)("td",{className:"px-6 py-4",children:[(0,a.jsx)("button",{onClick:()=>f(e),className:"text-indigo-600 hover:text-indigo-900 mr-3",children:"Edit"}),(0,a.jsx)("button",{onClick:()=>N(e.id),className:"text-red-600 hover:text-red-900",children:"Delete"})]})]},e.id)})})]})})}),r&&(0,a.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,a.jsxs)("div",{className:"bg-white rounded-lg p-6 w-full max-w-lg",children:[(0,a.jsx)("h3",{className:"text-xl font-bold mb-4",children:d?"Edit Transaction":"Add New Transaction"}),(0,a.jsxs)("form",{onSubmit:w,className:"space-y-4",children:[(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Type"}),(0,a.jsxs)("select",{value:p.type,onChange:e=>h({...p,type:e.target.value}),className:"w-full px-3 py-2 border rounded-lg",children:[(0,a.jsx)("option",{value:"Payment",children:"Payment"}),(0,a.jsx)("option",{value:"Refund",children:"Refund"}),(0,a.jsx)("option",{value:"Adjustment",children:"Adjustment"})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Status"}),(0,a.jsxs)("select",{value:p.status,onChange:e=>h({...p,status:e.target.value}),className:"w-full px-3 py-2 border rounded-lg",children:[(0,a.jsx)("option",{value:"PENDING",children:"Pending"}),(0,a.jsx)("option",{value:"COMPLETED",children:"Completed"}),(0,a.jsx)("option",{value:"FAILED",children:"Failed"}),(0,a.jsx)("option",{value:"REFUNDED",children:"Refunded"})]})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Amount ($)"}),(0,a.jsx)("input",{type:"number",step:"0.01",value:p.amount,onChange:e=>h({...p,amount:e.target.value}),className:"w-full px-3 py-2 border rounded-lg",required:!0})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Payment Method"}),(0,a.jsxs)("select",{value:p.paymentMethod,onChange:e=>h({...p,paymentMethod:e.target.value}),className:"w-full px-3 py-2 border rounded-lg",children:[(0,a.jsx)("option",{value:"Card",children:"Credit Card"}),(0,a.jsx)("option",{value:"PayPal",children:"PayPal"}),(0,a.jsx)("option",{value:"Bank",children:"Bank Transfer"}),(0,a.jsx)("option",{value:"Cash",children:"Cash"}),(0,a.jsx)("option",{value:"Other",children:"Other"})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Reference Number"}),(0,a.jsx)("input",{type:"text",value:p.referenceNumber,onChange:e=>h({...p,referenceNumber:e.target.value}),className:"w-full px-3 py-2 border rounded-lg",placeholder:"Optional"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),(0,a.jsx)("textarea",{value:p.description,onChange:e=>h({...p,description:e.target.value}),className:"w-full px-3 py-2 border rounded-lg",rows:2,placeholder:"Optional notes..."})]}),(0,a.jsxs)("div",{className:"flex justify-end gap-3 pt-4",children:[(0,a.jsx)("button",{type:"button",onClick:()=>n(!1),className:"px-4 py-2 border rounded-lg hover:bg-gray-50",children:"Cancel"}),(0,a.jsx)("button",{type:"submit",className:"px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700",children:d?"Update":"Create"})]})]})]})})]})}function p(){return(0,a.jsxs)("div",{children:[(0,a.jsx)("h2",{className:"text-3xl font-bold mb-6",children:"Forum Moderation"}),(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow p-6",children:[(0,a.jsx)("p",{className:"text-gray-600",children:"Forum posts and replies management coming soon..."}),(0,a.jsxs)("ul",{className:"mt-4 text-sm text-gray-500",children:[(0,a.jsx)("li",{children:"• Moderate forum posts"}),(0,a.jsx)("li",{children:"• Manage replies"}),(0,a.jsx)("li",{children:"• Flag/unflag content"}),(0,a.jsx)("li",{children:"• Delete inappropriate content"})]})]})]})}function h(){return(0,a.jsxs)("div",{children:[(0,a.jsx)("h2",{className:"text-3xl font-bold mb-6",children:"Notification Center"}),(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow p-6",children:[(0,a.jsx)("p",{className:"text-gray-600",children:"Notification management coming soon..."}),(0,a.jsxs)("ul",{className:"mt-4 text-sm text-gray-500",children:[(0,a.jsx)("li",{children:"• Send bulk notifications"}),(0,a.jsx)("li",{children:"• Manage notification templates"}),(0,a.jsx)("li",{children:"• View notification history"}),(0,a.jsx)("li",{children:"• Track read/unread status"})]})]})]})}function g(){let[e,t]=(0,l.useState)("dashboard"),[s,g]=(0,l.useState)(null),[y,j]=(0,l.useState)(!0),[b,v]=(0,l.useState)(null),[f,N]=(0,l.useState)(null);(0,l.useEffect)(()=>{w(),C()},[]);let w=async()=>{j(!0),v(null);try{let e=await fetch("/api/admin/stats");if(!e.ok)throw Error("Failed to fetch stats");let t=await e.json();g(t.stats)}catch(e){console.error("Error fetching admin data:",e),v(e instanceof Error?e.message:"Failed to load data")}finally{j(!1)}},C=async()=>{try{let e=await fetch("/api/admin/helpers");if(e.ok){let t=await e.json();N(t)}}catch(e){console.error("Error fetching helper data:",e)}},D=[{id:"dashboard",label:"Dashboard",icon:"\uD83D\uDCCA"},{id:"users",label:"Users",icon:"\uD83D\uDC65",badge:null==s?void 0:s.totalUsers},{id:"instructors",label:"Instructors",icon:"\uD83C\uDF93",badge:null==s?void 0:s.totalInstructors},{id:"classes",label:"Classes",icon:"\uD83D\uDCDA",badge:null==s?void 0:s.totalClasses},{id:"events",label:"Events",icon:"\uD83C\uDF89",badge:null==s?void 0:s.totalEvents},{id:"bookings",label:"Bookings",icon:"\uD83C\uDFAB",badge:null==s?void 0:s.totalBookings},{id:"venues",label:"Venues",icon:"\uD83C\uDFE2",badge:null==s?void 0:s.totalVenues},{id:"styles",label:"Dance Styles",icon:"\uD83D\uDC83",badge:null==s?void 0:s.totalDanceStyles},{id:"transactions",label:"Transactions",icon:"\uD83D\uDCB0",badge:null==s?void 0:s.totalTransactions},{id:"forum",label:"Forum",icon:"\uD83D\uDCAC",badge:null==s?void 0:s.totalForumPosts},{id:"testimonials",label:"Testimonials",icon:"⭐",badge:null==s?void 0:s.totalTestimonials},{id:"partners",label:"Partner Matching",icon:"\uD83E\uDD1D",badge:null==s?void 0:s.activePartnerRequests},{id:"notifications",label:"Notifications",icon:"\uD83D\uDD14",badge:null==s?void 0:s.unreadNotifications},{id:"messages",label:"Contact Messages",icon:"\uD83D\uDCE7",badge:null==s?void 0:s.unreadMessages},{id:"audit",label:"Audit Logs",icon:"\uD83D\uDCCB"},{id:"api-docs",label:"API Documentation",icon:"\uD83D\uDCD6"}],k=()=>s?(0,a.jsxs)("div",{children:[(0,a.jsx)("h2",{className:"text-3xl font-bold mb-8",children:"Admin Dashboard"}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[(0,a.jsx)("div",{className:"bg-gradient-to-br from-purple-500 to-purple-600 text-white p-6 rounded-xl shadow-lg",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-purple-100 text-sm",children:"Total Revenue"}),(0,a.jsxs)("p",{className:"text-3xl font-bold",children:["$",s.totalRevenue.toLocaleString()]}),(0,a.jsxs)("p",{className:"text-purple-100 text-sm mt-2",children:[s.confirmedBookings," confirmed"]})]}),(0,a.jsx)("div",{className:"text-4xl opacity-80",children:"\uD83D\uDCB0"})]})}),(0,a.jsx)("div",{className:"bg-gradient-to-br from-blue-500 to-blue-600 text-white p-6 rounded-xl shadow-lg",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-blue-100 text-sm",children:"Total Users"}),(0,a.jsx)("p",{className:"text-3xl font-bold",children:s.totalUsers}),(0,a.jsxs)("p",{className:"text-blue-100 text-sm mt-2",children:[s.userBreakdown.admins," admin, ",s.userBreakdown.instructors," instructors"]})]}),(0,a.jsx)("div",{className:"text-4xl opacity-80",children:"\uD83D\uDC65"})]})}),(0,a.jsx)("div",{className:"bg-gradient-to-br from-green-500 to-green-600 text-white p-6 rounded-xl shadow-lg",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-green-100 text-sm",children:"Classes & Events"}),(0,a.jsx)("p",{className:"text-3xl font-bold",children:s.totalClasses+s.totalEvents}),(0,a.jsxs)("p",{className:"text-green-100 text-sm mt-2",children:[s.totalClasses," classes, ",s.totalEvents," events"]})]}),(0,a.jsx)("div",{className:"text-4xl opacity-80",children:"\uD83C\uDFAF"})]})}),(0,a.jsx)("div",{className:"bg-gradient-to-br from-orange-500 to-orange-600 text-white p-6 rounded-xl shadow-lg",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-orange-100 text-sm",children:"Total Bookings"}),(0,a.jsx)("p",{className:"text-3xl font-bold",children:s.totalBookings}),(0,a.jsxs)("p",{className:"text-orange-100 text-sm mt-2",children:[s.totalTransactions," transactions"]})]}),(0,a.jsx)("div",{className:"text-4xl opacity-80",children:"\uD83D\uDCDD"})]})})]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-8",children:[(0,a.jsx)("div",{className:"bg-white p-4 rounded-lg shadow",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-gray-500 text-xs",children:"Venues"}),(0,a.jsx)("p",{className:"text-2xl font-bold",children:s.totalVenues})]}),(0,a.jsx)("span",{className:"text-2xl",children:"\uD83C\uDFE2"})]})}),(0,a.jsx)("div",{className:"bg-white p-4 rounded-lg shadow",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-gray-500 text-xs",children:"Dance Styles"}),(0,a.jsx)("p",{className:"text-2xl font-bold",children:s.totalDanceStyles})]}),(0,a.jsx)("span",{className:"text-2xl",children:"\uD83D\uDC83"})]})}),(0,a.jsx)("div",{className:"bg-white p-4 rounded-lg shadow",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-gray-500 text-xs",children:"Forum Posts"}),(0,a.jsx)("p",{className:"text-2xl font-bold",children:s.totalForumPosts})]}),(0,a.jsx)("span",{className:"text-2xl",children:"\uD83D\uDCAC"})]})}),(0,a.jsx)("div",{className:"bg-white p-4 rounded-lg shadow",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-gray-500 text-xs",children:"Testimonials"}),(0,a.jsx)("p",{className:"text-2xl font-bold",children:s.totalTestimonials})]}),(0,a.jsx)("span",{className:"text-2xl",children:"⭐"})]})})]}),(0,a.jsxs)("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[(0,a.jsx)("h3",{className:"text-xl font-semibold mb-4",children:"Quick Actions"}),(0,a.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[(0,a.jsxs)("button",{onClick:()=>t("users"),className:"p-4 bg-blue-50 hover:bg-blue-100 rounded-lg text-center transition",children:[(0,a.jsx)("span",{className:"text-2xl block mb-2",children:"\uD83D\uDC64"}),(0,a.jsx)("span",{className:"text-sm",children:"Manage Users"})]}),(0,a.jsxs)("button",{onClick:()=>t("classes"),className:"p-4 bg-green-50 hover:bg-green-100 rounded-lg text-center transition",children:[(0,a.jsx)("span",{className:"text-2xl block mb-2",children:"\uD83D\uDCDA"}),(0,a.jsx)("span",{className:"text-sm",children:"Manage Classes"})]}),(0,a.jsxs)("button",{onClick:()=>t("events"),className:"p-4 bg-purple-50 hover:bg-purple-100 rounded-lg text-center transition",children:[(0,a.jsx)("span",{className:"text-2xl block mb-2",children:"\uD83C\uDF89"}),(0,a.jsx)("span",{className:"text-sm",children:"Manage Events"})]}),(0,a.jsxs)("button",{onClick:()=>t("bookings"),className:"p-4 bg-orange-50 hover:bg-orange-100 rounded-lg text-center transition",children:[(0,a.jsx)("span",{className:"text-2xl block mb-2",children:"\uD83C\uDFAB"}),(0,a.jsx)("span",{className:"text-sm",children:"View Bookings"})]})]})]})]}):null;return(0,a.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,a.jsx)("header",{className:"bg-white shadow-sm border-b",children:(0,a.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,a.jsxs)("div",{className:"flex justify-between items-center py-4",children:[(0,a.jsxs)("div",{className:"flex items-center gap-4",children:[(0,a.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"Admin Panel"}),(0,a.jsx)("span",{className:"px-3 py-1 bg-purple-100 text-purple-700 rounded-full text-sm",children:"Full CRUD Access"})]}),(0,a.jsxs)("div",{className:"flex items-center gap-4",children:[(0,a.jsx)("button",{onClick:()=>{w(),C()},className:"px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 transition",children:"\uD83D\uDD04 Refresh"}),(0,a.jsx)(i.default,{href:"/",className:"text-gray-600 hover:text-gray-900",children:"← Back to Site"})]})]})})}),(0,a.jsxs)("div",{className:"flex",children:[(0,a.jsx)("aside",{className:"w-64 bg-white h-screen shadow-lg",children:(0,a.jsx)("nav",{className:"p-4",children:(0,a.jsx)("ul",{className:"space-y-2",children:D.map(s=>(0,a.jsx)("li",{children:(0,a.jsxs)("button",{onClick:()=>t(s.id),className:"w-full text-left px-4 py-3 rounded-lg transition flex items-center justify-between ".concat(e===s.id?"bg-purple-600 text-white":"hover:bg-gray-100"),children:[(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)("span",{className:"text-xl",children:s.icon}),(0,a.jsx)("span",{children:s.label})]}),void 0!==s.badge&&s.badge>0&&(0,a.jsx)("span",{className:"px-2 py-1 rounded-full text-xs ".concat(e===s.id?"bg-purple-700 text-white":"bg-gray-200 text-gray-700"),children:s.badge})]})},s.id))})})}),(0,a.jsx)("main",{className:"flex-1 p-8",children:(()=>{if(y&&"dashboard"===e)return(0,a.jsx)("div",{className:"flex items-center justify-center h-64",children:(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-purple-600 mx-auto mb-4"}),(0,a.jsx)("p",{className:"text-gray-600",children:"Loading..."})]})});if(b&&"dashboard"===e)return(0,a.jsx)("div",{className:"bg-red-50 border-l-4 border-red-400 p-4",children:(0,a.jsxs)("p",{className:"text-red-700",children:["Error: ",b]})});switch(e){case"dashboard":return k();case"users":return(0,a.jsx)(r,{});case"instructors":return(0,a.jsx)(m,{});case"classes":return(0,a.jsx)(n,{helperData:f});case"events":return(0,a.jsx)(d,{helperData:f});case"bookings":return(0,a.jsx)(c,{helperData:f});case"venues":return(0,a.jsx)(o,{});case"styles":return(0,a.jsx)(x,{});case"transactions":return(0,a.jsx)(u,{});case"forum":return(0,a.jsx)(p,{});case"testimonials":return(0,a.jsxs)("div",{children:[(0,a.jsx)("h2",{className:"text-3xl font-bold mb-6",children:"Testimonial Management"}),(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow p-6",children:[(0,a.jsx)("p",{className:"text-gray-600",children:"Manage testimonials and reviews"}),(0,a.jsxs)("ul",{className:"mt-4 text-sm text-gray-500",children:[(0,a.jsx)("li",{children:"• Approve/reject testimonials"}),(0,a.jsx)("li",{children:"• Edit testimonial content"}),(0,a.jsx)("li",{children:"• Feature testimonials"}),(0,a.jsx)("li",{children:"• Manage ratings"})]})]})]});case"partners":return(0,a.jsxs)("div",{children:[(0,a.jsx)("h2",{className:"text-3xl font-bold mb-6",children:"Partner Matching System"}),(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow p-6",children:[(0,a.jsx)("p",{className:"text-gray-600",children:"Manage dance partner matching"}),(0,a.jsxs)("ul",{className:"mt-4 text-sm text-gray-500",children:[(0,a.jsx)("li",{children:"• View partner requests"}),(0,a.jsx)("li",{children:"• Manage matches"}),(0,a.jsx)("li",{children:"• Monitor matching algorithm"}),(0,a.jsx)("li",{children:"• Handle disputes"})]})]})]});case"notifications":return(0,a.jsx)(h,{});case"messages":return(0,a.jsxs)("div",{children:[(0,a.jsx)("h2",{className:"text-3xl font-bold mb-6",children:"Contact Messages"}),(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow p-6",children:[(0,a.jsx)("p",{className:"text-gray-600",children:"Manage contact form submissions"}),(0,a.jsxs)("ul",{className:"mt-4 text-sm text-gray-500",children:[(0,a.jsx)("li",{children:"• View unread messages"}),(0,a.jsx)("li",{children:"• Reply to inquiries"}),(0,a.jsx)("li",{children:"• Archive messages"}),(0,a.jsx)("li",{children:"• Mark as resolved"})]})]})]});case"audit":return(0,a.jsxs)("div",{children:[(0,a.jsx)("h2",{className:"text-3xl font-bold mb-6",children:"Audit Logs"}),(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow p-6",children:[(0,a.jsx)("p",{className:"text-gray-600",children:"System audit trail viewer"}),(0,a.jsxs)("ul",{className:"mt-4 text-sm text-gray-500",children:[(0,a.jsx)("li",{children:"• View all system actions"}),(0,a.jsx)("li",{children:"• Filter by user/action type"}),(0,a.jsx)("li",{children:"• Export audit reports"}),(0,a.jsx)("li",{children:"• Monitor security events"})]})]})]});case"api-docs":return(0,a.jsxs)("div",{children:[(0,a.jsx)("h2",{className:"text-3xl font-bold mb-6",children:"API Documentation"}),(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow p-6 mb-6",children:[(0,a.jsx)("p",{className:"text-gray-600 mb-4",children:"Interactive Swagger UI documentation for all Dance Platform API endpoints."}),(0,a.jsxs)("div",{className:"flex flex-col sm:flex-row gap-4",children:[(0,a.jsxs)("a",{href:"/admin/api-docs",target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center px-6 py-3 bg-blue-600 hover:bg-blue-700 text-white font-medium rounded-lg transition-colors",children:[(0,a.jsx)("span",{className:"mr-2",children:"\uD83D\uDCD6"}),"Open Swagger UI",(0,a.jsx)("span",{className:"ml-2",children:"↗️"})]}),(0,a.jsxs)("a",{href:"/api/swagger",target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center px-6 py-3 bg-gray-600 hover:bg-gray-700 text-white font-medium rounded-lg transition-colors",children:[(0,a.jsx)("span",{className:"mr-2",children:"\uD83D\uDCC4"}),"View Raw JSON",(0,a.jsx)("span",{className:"ml-2",children:"↗️"})]})]})]}),(0,a.jsxs)("div",{className:"grid md:grid-cols-2 gap-6",children:[(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow p-6",children:[(0,a.jsxs)("h3",{className:"text-xl font-semibold mb-4 flex items-center",children:[(0,a.jsx)("span",{className:"mr-2",children:"\uD83D\uDE80"}),"Available Endpoints"]}),(0,a.jsxs)("ul",{className:"space-y-2 text-sm text-gray-600",children:[(0,a.jsxs)("li",{children:["• ",(0,a.jsx)("span",{className:"font-mono bg-gray-100 px-2 py-1 rounded",children:"GET /api/admin/stats"})," - Dashboard statistics"]}),(0,a.jsxs)("li",{children:["• ",(0,a.jsx)("span",{className:"font-mono bg-gray-100 px-2 py-1 rounded",children:"GET /api/admin/users"})," - User management"]}),(0,a.jsxs)("li",{children:["• ",(0,a.jsx)("span",{className:"font-mono bg-gray-100 px-2 py-1 rounded",children:"GET /api/admin/classes"})," - Class management"]}),(0,a.jsxs)("li",{children:["• ",(0,a.jsx)("span",{className:"font-mono bg-gray-100 px-2 py-1 rounded",children:"GET /api/admin/events"})," - Event management"]}),(0,a.jsxs)("li",{children:["• ",(0,a.jsx)("span",{className:"font-mono bg-gray-100 px-2 py-1 rounded",children:"GET /api/admin/venues"})," - Venue management"]}),(0,a.jsxs)("li",{children:["• ",(0,a.jsx)("span",{className:"font-mono bg-gray-100 px-2 py-1 rounded",children:"GET /api/admin/bookings"})," - Booking management"]}),(0,a.jsx)("li",{className:"text-gray-400",children:"+ All CRUD operations (POST, PUT, DELETE)"})]})]}),(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow p-6",children:[(0,a.jsxs)("h3",{className:"text-xl font-semibold mb-4 flex items-center",children:[(0,a.jsx)("span",{className:"mr-2",children:"⚡"}),"Features"]}),(0,a.jsxs)("ul",{className:"space-y-2 text-sm text-gray-600",children:[(0,a.jsx)("li",{children:'• Interactive "Try it out" functionality'}),(0,a.jsx)("li",{children:"• Complete request/response examples"}),(0,a.jsx)("li",{children:"• Schema documentation for all models"}),(0,a.jsx)("li",{children:"• HTTP status code explanations"}),(0,a.jsx)("li",{children:"• Parameter validation details"}),(0,a.jsx)("li",{children:"• Export as OpenAPI 3.0 specification"})]})]})]})]});default:return(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow p-6",children:[(0,a.jsxs)("h2",{className:"text-2xl font-bold mb-4",children:[e.charAt(0).toUpperCase()+e.slice(1)," Management"]}),(0,a.jsx)("p",{className:"text-gray-600",children:"This section is under development. Full CRUD operations coming soon!"})]})}})()})]})]})}},7138:function(e,t,s){"use strict";s.d(t,{default:function(){return l.a}});var a=s(231),l=s.n(a)}},function(e){e.O(0,[231,971,23,744],function(){return e(e.s=6345)}),_N_E=e.O()}]);